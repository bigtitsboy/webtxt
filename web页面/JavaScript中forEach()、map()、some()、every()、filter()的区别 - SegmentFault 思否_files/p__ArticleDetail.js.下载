(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[36,7],{"212T":function(e,t,a){},"24g8":function(e,t,a){"use strict";var n=a("BVjQ"),r=a("d2ag"),i=a("NiKV");function o(e,t){var a=t.title,i=t.image;return Object(n["a"])(e,"weibo.url"),"http://service.weibo.com/share/share.php"+Object(r["a"])({url:e,title:a,pic:i})}var c=Object(i["a"])("weibo",o,(function(e){return{title:e.title,image:e.image}}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});t["a"]=c},"2CDT":function(e,t,a){"use strict";function n(e){var t,a,n,r,i,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e?window.OA_script("https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=".concat(c,"&v=5f0a9217&tag=").concat(e)):null!==(t=window.location)&&void 0!==t&&null!==(a=t.pathname)&&void 0!==a&&a.includes("/a/")||null!==(n=window.location)&&void 0!==n&&null!==(r=n.pathname)&&void 0!==r&&r.includes("/q/")||null!==(i=window.location)&&void 0!==i&&null!==(o=i.pathname)&&void 0!==o&&o.includes("/t/")||window.OA_script("https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=".concat(c,"&v=5f0a9217"))}t["a"]=n},"47/0":function(e,t,a){},"4GjR":function(e,t,a){"use strict";var n=a("k1fw"),r=a("9og8"),i=a("tJVT"),o=a("WmNS"),c=a.n(o),l=a("q1tI"),s=a.n(l),u=a("YdHu"),d=a("97+O"),m=a("tSvB"),f=a("Dp36"),v=a("9kvl"),p=function(e){var t,a=e.id,o=e.type,v=e.actions,p=void 0===v?[]:v,b=e.member_actions,h=void 0===b?[]:b,g=e.onCallBack,E=e.sessionUser,y=e.className,O=e.qid,w=e.questionDetail,j=e.tagName,k={question:"/q/".concat(a,"/revision"),answer:"/q/".concat(O,"/a-").concat(a,"/revision"),tag:"/t/".concat(j,"/revision"),article:"/a/".concat(a,"/revision")},N=Object(l["useState"])({visable:!1,action:"",actionName:""}),x=Object(i["a"])(N,2),_=x[0],S=x[1],C="question"===o&&w[a]||{},I=C.site,R=void 0===I?{}:I,T=C.question;T=void 0===T?{}:T;var D=T.is_site,L=void 0===D?1:D,B=Object(l["useState"])(!1),A=Object(i["a"])(B,2),P=A[0],M=A[1],z=Object(l["useState"])(!1),H=Object(i["a"])(z,2),F=H[0],q=H[1],U=Object(l["useState"])(!1),Y=Object(i["a"])(U,2),V=Y[0],W=Y[1],K=function(e){Object(f["Kc"])({id:a,type:o,handle:e}).then((function(e){g(e)}))},$=function(){var e=Object(r["a"])(c.a.mark((function e(t){var r,i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("report"!==_.action){e.next=6;break}return e.next=3,Object(f["vd"])(Object(n["a"])({object_id:a},t))["catch"]((function(e){r=null===e||void 0===e?void 0:e.object_id}));case 3:return i=e.sent,g(i||r,_.action),e.abrupt("return");case 6:if("seo"!==_.action&&"hide-setting"!==_.action){e.next=9;break}return g("",_.action),e.abrupt("return");case 9:if("delete"!==_.action){e.next=12;break}return Object(f["Lc"])(Object(n["a"])({id:a,type:o},t)).then((function(e){g(e,_.action)})),e.abrupt("return");case 12:Object(f["Kc"])(Object(n["a"])({id:a,type:o,handle:_.action},t)).then((function(e){g(e,_.action)}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("div",{className:y},(h.length>0||p.length>0)&&s.a.createElement(s.a.Fragment,null,h.filter((function(e){return"edit"===e.type})).map((function(e){var t;switch(o){case"article":t="/a/".concat(a,"/edit");break;case"question":t="/q/".concat(a,"/edit");break;case"answer":t="/q/".concat(O,"/a-").concat(a,"/edit");break;case"product":t="/product/".concat(a,"/edit");break;case"product-score":t="/product/".concat(O,"/r-").concat(a,"/edit");break;case"tag":t="/t/".concat(j,"/edit");break;case"event":t="/events/".concat(a,"/edit");break}return s.a.createElement("a",{key:e.name,className:"text-secondary ".concat(o,"-edit"),href:t},s.a.createElement("span",null,"\u7f16\u8f91"))})),((null===h||void 0===h||null===(t=h.filter((function(e){return"edit"!==e.type})))||void 0===t?void 0:t.length)>0||(null===p||void 0===p?void 0:p.length)>0||k[o])&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"split-dot"}),s.a.createElement("div",{className:"d-inline-block"},s.a.createElement(d["a"],null,s.a.createElement(d["a"].Toggle,{as:u["a"],className:"text-secondary",id:"operate-manage-toggle"},s.a.createElement("span",null,"\u64cd\u4f5c")),s.a.createElement(d["a"].Menu,null,h.filter((function(e){return"edit"!==e.type})).map((function(e,t){return"reason"===e.type?s.a.createElement(d["a"].Item,{key:e.name+t,onClick:function(){S({action:e.action,visable:!0,actionName:e.name})}},e.name):"put"===e.type?s.a.createElement(d["a"].Item,{key:e.name+t,onClick:function(){return K(e.action)}},e.name):void 0})),k[o]&&s.a.createElement(d["a"].Item,{href:k[o]},"\u5386\u53f2\u7248\u672c"),p.length>0&&h.filter((function(e){return"edit"!==e.type})).length>0&&s.a.createElement(d["a"].Divider,null),p.map((function(e,t){if("edit"===e.type){var r;switch(o){case"article":r="/a/".concat(a,"/edit");break;case"question":r="/q/".concat(a,"/edit");break;case"answer":r="/q/".concat(O,"/a-").concat(a,"/edit");break;case"product":r="/product/".concat(a,"/edit");break;case"product-score":r="/product/".concat(O,"/r-").concat(a,"/edit");break}return s.a.createElement(d["a"].Item,{key:e.name+t,href:r},e.name)}return"reason"===e.type?s.a.createElement(d["a"].Item,{key:e.name+t,onClick:function(){S({action:e.action,visable:!0,actionName:e.name})}},e.name):"put"===e.type?s.a.createElement(d["a"].Item,{key:e.name+t,onClick:function(){return K(e.action)}},e.name):"site"===e.type?s.a.createElement(d["a"].Item,{key:e.name+t,onClick:function(){M(!0),S(Object(n["a"])(Object(n["a"])({},_),{},{action:e.action}))}},e.name):"seo"===e.type?s.a.createElement(d["a"].Item,{key:e.name+t,onClick:function(){q(!0),S(Object(n["a"])(Object(n["a"])({},_),{},{action:e.action}))}},e.name):"hide"===e.type?s.a.createElement(d["a"].Item,{key:e.name+t,onClick:function(){W(!0),S(Object(n["a"])(Object(n["a"])({},_),{},{action:e.action}))}},e.name):s.a.createElement(d["a"].Item,{key:e.name+t},e.name)}))))))),(h.length>0||(null===p||void 0===p?void 0:p.length)>0)&&s.a.createElement("span",{className:"split-dot"}),E&&s.a.createElement("a",{className:"text-secondary",href:"###",onClick:function(e){e.preventDefault(),S({action:"report",visable:!0,actionName:"\u4e3e\u62a5"})}},s.a.createElement("span",null,"\u4e3e\u62a5")),_.visable&&s.a.createElement(m["j"],{id:a,isShow:!0,action:_.action,actionName:_.actionName,setModalStatus:S,onOk:$}),P&&s.a.createElement(m["i"],{isShow:!0,setModalStatus:M,callback:$,siteId:null===R||void 0===R?void 0:R.id,isSite:L}),s.a.createElement(m["t"],{id:a,isShow:F,setModalStatus:q,callBack:$}),s.a.createElement(m["k"],{id:a,isShow:V,setModalStatus:W,callBack:$}))};t["a"]=Object(v["b"])((function(e){var t=e.global,a=e.question;return{sessionUser:t.sessionUser,questionDetail:a.questionDetail}}))(s.a.memo(p))},"5SRE":function(e,t,a){},"5ui+":function(e,t,a){"use strict";var n=a("tJVT"),r=a("q1tI"),i=a.n(r),o=a("6xyR"),c=a("HToz"),l=a.n(c),s=a("dDCJ"),u=a("AINe"),d=a("Wgwc"),m=a.n(d),f=a("Dp36"),v=a("QgiU"),p=a.n(v),b=(a("pHGr"),a("0lfv"));m.a.locale("zh-cn"),m.a.extend(p.a);var h=function(e){var t,a,n,r,o,c,l,d=e.title,v=e.user,p=e.id,h=e.created,g=e.modified,E=e.initPage,y=e.actions,O=e.member_actions,w=e.lang,j=e.langs,k=function(){null!==y&&void 0!==y&&y.find((function(e){return"recommend"===e.action}))?Object(f["p"])(p).then((function(){E()})):Object(f["l"])(p).then((function(){E()}))};return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",{className:"h2 mb-3"},i.a.createElement("a",{href:"/a/".concat(p),className:"text-body"},d)),i.a.createElement("div",{className:"d-flex align-items-center justify-content-between flex-wrap mb-4"},i.a.createElement("div",{className:"d-flex align-items-center"},i.a.createElement("a",{href:null===v||void 0===v?void 0:v.url,className:"d-flex align-items-center"},i.a.createElement("picture",{className:"me-2 d-sm-block d-none"},i.a.createElement("img",{src:(null===v||void 0===v?void 0:v.avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",alt:"",className:"d-inline-block rounded-circle",width:"32",height:"32"})),i.a.createElement("strong",{className:"align-self-center font-size-14"},null===v||void 0===v?void 0:v.name)),null!==v&&void 0!==v&&null!==(t=v.user_auth)&&void 0!==t&&t.is_auth?i.a.createElement("ul",{className:"list-inline mb-0 authentication-info sflex-center font-size-14 ms-1"},i.a.createElement("li",{className:"list-inline-item",style:{color:"#BF7158"}},i.a.createElement(s["a"],{placement:"top",overlay:i.a.createElement(u["a"],{id:"top"},i.a.createElement("span",{className:""},null===v||void 0===v||null===(a=v.user_auth)||void 0===a?void 0:a.info))},i.a.createElement("i",{className:"fas fa-badge-check text-warning"})))):null,h!==g&&g>h?i.a.createElement(s["a"],{placement:"top",overlay:i.a.createElement(u["a"],{id:"top"},i.a.createElement("span",{className:""},"\u66f4\u65b0\u4e8e ",Object(b["d"])(g)))},i.a.createElement("time",{className:"text-secondary font-size-14",dateTime:m.a.unix(h).toISOString(),itemProp:"datePublished",style:{marginLeft:"12px"}},"\u53d1\u5e03\u4e8e ",Object(b["d"])(h))):i.a.createElement("time",{className:"text-secondary font-size-14",dateTime:m.a.unix(h).toISOString(),itemProp:"datePublished",style:{marginLeft:"12px"}},"\u53d1\u5e03\u4e8e ",Object(b["d"])(h)),null!==O&&void 0!==O&&null!==(n=O.find((function(e){return"edit"===e.action})))&&void 0!==n&&n.name?i.a.createElement("a",{href:"/a/".concat(p,"/edit"),className:"font-size-14",style:{marginLeft:"12px"}},"\u7f16\u8f91"):null,null!==y&&void 0!==y&&null!==(r=y.find((function(e){return"recommend"===e.action})))&&void 0!==r&&r.name||null!==y&&void 0!==y&&null!==(o=y.find((function(e){return"cancel-recommend"===e.action})))&&void 0!==o&&o.name?i.a.createElement("a",{href:"###",className:"font-size-14",onClick:function(e){e.preventDefault(),k()},style:{marginLeft:"12px"}},(null===y||void 0===y||null===(c=y.find((function(e){return"recommend"===e.action})))||void 0===c?void 0:c.name)||(null===y||void 0===y||null===(l=y.find((function(e){return"cancel-recommend"===e.action})))||void 0===l?void 0:l.name)):null),(null===j||void 0===j?void 0:j.length)>0&&i.a.createElement("a",{href:"en"===w?"/a/".concat(p):"/a/".concat(p,"/en"),className:"d-flex align-items-center"},i.a.createElement("div",{style:{height:"21px",lineHeight:"21px"}},i.a.createElement("i",{className:"far fa-language"})),i.a.createElement("span",{className:"font-size-14 ms-1"},"en"===w?"\u4e2d\u6587":"English"))))},g=h,E=a("3Z9Z"),y=a("JI6e"),O=a("tSvB"),w=a("4GjR"),j=a("9kvl"),k=(a("5SRE"),function(e){var t=e.realRed,a=void 0===t?0:t,n=e.read,r=void 0===n?0:n,o=e.created,c=void 0===o?0:o,l=e.modified,d=void 0===l?0:l,f=e.id,v=e.actions,p=void 0===v?[]:v,h=e.initPage,g=e.isEditor,k=e.memberActions,N=Object(j["f"])(),x=function(){N({type:"global/saveSingleNotice",payload:""})},_=function(e,t){switch(t){case"report":O["v"].confirm({content:"string"===typeof e?e:"\u4e3e\u62a5\u6210\u529f"});break;case"hide-setting":case"delete":N({type:"global/saveSingleNotice",payload:"string"===typeof e?e:""}),null===h||void 0===h||h();break;case"reject":x(),null===h||void 0===h||h();break;default:"string"===typeof e&&N({type:"global/saveSingleNotice",payload:"string"===typeof e?e:""}),null===h||void 0===h||h();break}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(E["a"],{className:"text-secondary font-size-14 mt-3 mb-5 d-flex justify-content-between"},i.a.createElement(y["a"],null,i.a.createElement("span",null,"\u9605\u8bfb ",Object(b["j"])(r),g&&a>0&&"\uff08UV ".concat(Object(b["j"])(a),"\uff09")),i.a.createElement("span",{className:"split-dot"}),c!==d&&d>c?i.a.createElement(s["a"],{placement:"top",overlay:i.a.createElement(u["a"],{id:"tip-top"},"\u53d1\u5e03\u4e8e ",i.a.createElement("span",null,Object(b["d"])(c)))},i.a.createElement("time",{dateTime:m.a.unix(c).toISOString(),itemProp:"datePublished"},"\u66f4\u65b0\u4e8e ",Object(b["d"])(d))):i.a.createElement("time",{dateTime:m.a.unix(c).toISOString(),itemProp:"datePublished"},"\u53d1\u5e03\u4e8e ",Object(b["d"])(c))),i.a.createElement(y["a"],{className:"operation col-6 text-end col-xs-3"},i.a.createElement(w["a"],{id:f,actions:p,type:"article",onCallBack:_,member_actions:k}))))}),N=i.a.memo(k),x=a("k1fw"),_=a("pJDg"),S=a("cWnB"),C=a("97+O"),I=a("24g8"),R=a("QeUd"),T=a("aWbt"),D=a("wFk/"),L=a("6Yt9"),B=a("0FX9"),A=a.n(B),P=a("YdHu"),M=(a("78gL"),function(e){var t=e.id,a=e.isLiked,o=void 0!==a&&a,c=e.votes,l=void 0===c?0:c,s=e.isBookmarked,u=void 0!==s&&s,d=e.bookmarks,m=void 0===d?0:d,v=e.title,p=void 0===v?"":v,b=e.banner,h=void 0===b?"":b,g=e.isAuthor,E=e.dispatch,y=e.isBaiduOxApp,w=void 0!==y&&y,j=e.hideBookmarkBtn,k=void 0!==j&&j,N=e.hideShareBtn,x=void 0!==N&&N,B=Object(r["useState"])(l),M=Object(n["a"])(B,2),z=M[0],H=M[1],F=Object(r["useState"])(m),q=Object(n["a"])(F,2),U=q[0],Y=q[1],V=Object(r["useState"])(o),W=Object(n["a"])(V,2),K=W[0],$=W[1],J=Object(r["useState"])(u),G=Object(n["a"])(J,2),Q=G[0],Z=G[1],X=Object(r["useState"])(!1),ee=Object(n["a"])(X,2),te=ee[0],ae=ee[1],ne=Object(r["useState"])(""),re=Object(n["a"])(ne,2),ie=re[0],oe=re[1],ce=Object(r["useState"])(""),le=Object(n["a"])(ce,2),se=le[0],ue=le[1],de=Object(r["useState"])(""),me=Object(n["a"])(de,2),fe=me[0],ve=me[1],pe=Object(r["useState"])(""),be=Object(n["a"])(pe,2),he=be[0],ge=be[1],Ee=Object(r["useRef"])(),ye=Object(r["useRef"])(),Oe=Object(r["useRef"])();Object(r["useEffect"])((function(){$(o),Z(u),H(l),Y(m)}),[o,u,l,m]),Object(r["useEffect"])((function(){oe("".concat(window.location.origin).concat(window.location.pathname)),ue("\u3010".concat(p,"\u3011\u5206\u4eab\u81ea @segment_fault\uff0c\u4f20\u9001\u95e8\uff1a")),ve("\u3010".concat(p,"\u3011\u5206\u4eab\u81ea @SegmentFault\uff0c\u4f20\u9001\u95e8\uff1a"))}),[ie]),Object(r["useEffect"])((function(){if(!he){var e,t=null===(e=document)||void 0===e?void 0:e.querySelector(".qrcode");A.a.toCanvas(t,window.location.href,{margin:0},(function(e,t){ge(t.toDataURL())}))}}),[he]);var we=function(){Object(L["c"])()&&(g?O["v"].confirm({content:"\u4f60\u662f\u4f5c\u8005\uff0c\u65e0\u6cd5\u5bf9\u81ea\u5df1\u8fdb\u884c\u6b64\u64cd\u4f5c"}):(Object(f["zc"])({id:t,type:"article",is_like:K?0:1}),H(K?z-1:z+1),$(!K),E({type:"action/saveLike",payload:{id:t,votes:K?z-1:z+1,isLiked:!K}})))},je=function(){Object(L["c"])()&&ae(!0)},ke=function(e){Y(e?U+1:U-1),Z(e),E({type:"action/saveBookmark",payload:{id:t,bookmarks:e?U+1:U-1,bookmarkState:e}})};return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"functional-area-bottom text-center"},i.a.createElement(_["a"],{className:"btn-group like-group align-items-center",role:"group"},i.a.createElement(S["a"],{className:"btn me-2 rounded",variant:"outline-primary",active:K,onClick:we},i.a.createElement("i",{className:"far fa-thumbs-up"}),i.a.createElement("span",{className:"ms-1"},K?"\u5df2\u8d5e":"\u8d5e"),z>0&&i.a.createElement("span",{className:"mainLikeNum ms-1"},z)),!k&&i.a.createElement(S["a"],{className:"btn me-2 rounded",variant:"outline-secondary",active:Q,onClick:je},i.a.createElement("i",{className:"far fa-bookmark"}),i.a.createElement("span",{className:"ms-1"},Q?"\u5df2\u6536\u85cf":"\u6536\u85cf"),U>0&&i.a.createElement("span",{className:"ms-1"},U)),!w&&!x&&i.a.createElement(C["a"],{className:"bottom-share-wrap"},i.a.createElement(C["a"].Toggle,{as:P["a"],className:"nav-tab-item  btn d-flex justify-content-center align-items-center",id:"share-bottom-toggle"},i.a.createElement(S["a"],{className:"btn rounded",variant:"outline-secondary",active:!1},i.a.createElement("i",{className:"far fa-share-alt"}),i.a.createElement("span",{className:"ms-1"},"\u5206\u4eab"))),i.a.createElement(C["a"].Menu,{className:"dropdown-menu-down"},i.a.createElement("div",{className:"text-center mt-2",style:{cursor:"auto"}},i.a.createElement("div",{className:"qr"},i.a.createElement("img",{crossOrigin:"anonymous",src:he,width:"118",height:"118"})),"\u626b\u4e00\u626b\u5206\u4eab"),i.a.createElement("div",{className:"dropdown-divider"}),i.a.createElement(C["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&Ee.current.click()}},i.a.createElement(I["a"],{title:fe,url:ie,image:h,ref:Ee,className:"btn w-100 ps-4 pe-4 pt-1 pb-1 text-start"},i.a.createElement("i",{className:"fab fa-weibo fa-fw"})," \u65b0\u6d6a\u5fae\u535a")),i.a.createElement(C["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&ye.current.click()}},i.a.createElement(R["a"],{title:se,url:ie,ref:ye,className:"btn w-100 ps-4 pe-4 pt-1 pb-1 text-start"},i.a.createElement("i",{className:"fab fa-twitter fa-fw"})," Twitter")),i.a.createElement(C["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&Oe.current.click()}},i.a.createElement(T["a"],{title:se,url:ie,ref:Oe,className:"btn w-100 ps-4 pe-4 pt-1 pb-1 text-start"},i.a.createElement("i",{className:"fab fa-facebook fa-fw"})," Facebook")))))),i.a.createElement(D["a"],{id:t,isShow:te,setShowStatus:ae,setBookmarkedState:ke,source:"article",isBookmarked:u}),i.a.createElement("canvas",{hidden:!0,className:"qrcode"}))}),z=Object(j["b"])((function(e){var t=e.action,a=e.global;return Object(x["a"])(Object(x["a"])({},t),{},{isBaiduOxApp:a.isBaiduOxApp})}))(i.a.memo(M)),H=function(e){var t=e.type,a=e.licence;return i.a.createElement("div",{className:"font-size-14 text-secondary text-center mt-3 mb-5"},(0===t||1===t)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,"\u672c\u4f5c\u54c1\u7cfb\u539f\u521b\uff0c"),"sa"===a?i.a.createElement("a",{target:"_blank",rel:"noreferrer",className:"text-secondary",href:"https://creativecommons.org/licenses/by-nc-sa/4.0/"},"\u91c7\u7528\u300a\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528-\u76f8\u540c\u65b9\u5f0f\u5171\u4eab 4.0 \u56fd\u9645\u300b\u8bb8\u53ef\u534f\u8bae"):"nd"===a?i.a.createElement("a",{target:"_blank",rel:"noreferrer",className:"text-secondary",href:"https://segmentfault.com/tos#sec-licence-4"},"\u4f5c\u8005\u4fdd\u7559\u6240\u6709\u6743\u5229\uff0c\u672a\u7ecf\u4f5c\u8005\u5141\u8bb8\uff0c\u7981\u6b62\u8f6c\u8f7d\u548c\u6f14\u7ece"):i.a.createElement("a",{target:"_blank",rel:"noreferrer",className:"text-secondary",href:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},"\u91c7\u7528\u300a\u7f72\u540d-\u975e\u5546\u4e1a\u6027\u4f7f\u7528-\u7981\u6b62\u6f14\u7ece 4.0 \u56fd\u9645\u300b\u8bb8\u53ef\u534f\u8bae")))},F=i.a.memo(H),q=a("TUci"),U=function(e){var t=e.visible,a=e.payUrl;return t?i.a.createElement(q["a"],{variant:"warning",className:"mb-4"},i.a.createElement("p",null,"\u8fd8\u5dee\u4e00\u6b65\uff0c\u4f60\u5c31\u53ef\u4ee5\u53d1\u5e03\u5230 ",i.a.createElement("strong",null,"\u9177\u5de5\u4f5c")," \u63d0\u9ad8\u66dd\u5149\u91cf\u5566\u3002"),i.a.createElement("div",null,i.a.createElement(S["a"],{variant:"danger",href:a},"\u652f\u4ed8 \uffe5100"))):null},Y=i.a.memo(U),V=a("kwfb"),W=a("LtsZ"),K=function(e){var t=e.originUrl,a=void 0===t?"":t,n=e.type;return i.a.createElement("div",{className:"bg-light my-4 p-3"},i.a.createElement("a",{className:"d-flex align-items-center text-body",href:a,target:"_blank",rel:"noreferrer"},i.a.createElement("div",{className:"d-flex align-items-center bg-secondary justify-content-center me-3 rounded px-3",style:{width:"48px",height:"48px"}},i.a.createElement("i",{className:"far fa-file-alt font-size-20 text-white"})),i.a.createElement("div",{className:"media-body w-100"},i.a.createElement("div",{className:"text-body mb-0 fw-bold"},i.a.createElement("span",{style:{color:"#000"}},"\u672c\u6587\u7cfb",2===n?"\u8f6c\u8f7d":"\u7ffb\u8bd1","\uff0c\u9605\u8bfb\u539f\u6587")),i.a.createElement("div",{className:"font-size-13 text-secondary text-truncate-1 w-75"},i.a.createElement("small",{style:{wordBreak:"break-word"}},a)))))},$=i.a.memo(K),J=a("heTN"),G=a("9og8"),Q=a("WmNS"),Z=a.n(Q),X=a("EVdn"),ee=a("wwbV"),te=function(e){var t=e.blog,a=Object(r["useState"])((null===t||void 0===t?void 0:t.is_followed)||0),o=Object(n["a"])(a,2),c=o[0],l=o[1],s=function(){var e=Object(G["a"])(Z.a.mark((function e(){return Z.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(L["c"])()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,Object(f["sb"])({id:t.id,type:"blog",isFollow:c?0:1});case 4:return l(!c),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r["useEffect"])((function(){X(document.body).width()<576&&X("#followUser button").addClass("col-12"),X(window).resize((function(){X(document.body).width()<576?X("#followUser button").addClass("col-12"):X("#followUser button").removeClass("col-12")}))})),i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",{className:"mb-0"}),i.a.createElement(E["a"],{className:"pt-4 align-items-center"},i.a.createElement(y["a"],{className:"d-flex align-items-center col-12 col-md w-0 col"},i.a.createElement("a",{href:null===t||void 0===t?void 0:t.url},i.a.createElement("img",{className:"me-3 rounded",width:"64",height:"64",src:(null===t||void 0===t?void 0:t.thumbnail_url)||"https://image-static.segmentfault.com/383/303/3833030929-5ffd15fc110ab","aria-hidden":"true"})),i.a.createElement("div",{className:"w-100"},i.a.createElement("a",{href:null===t||void 0===t?void 0:t.url,className:"text-body"},i.a.createElement("h5",{className:"mb-0"},null===t||void 0===t?void 0:t.name)),(null===t||void 0===t?void 0:t.excerpt)&&i.a.createElement("div",{className:"text-truncate-1 text-secondary mt-2"},null===t||void 0===t?void 0:t.excerpt))),i.a.createElement(y["a"],{className:"col-md-90 col-12 mt-md-0 mt-3",id:"followUser"},i.a.createElement(ee["a"],{onClick:s},c?"\u5df2\u5173\u6ce8":"\u5173\u6ce8\u4e13\u680f"))))},ae=i.a.memo(te),ne=a("LvDl"),re=a("Inh2"),ie=function(e){var t,c,s,u=e.detail,d=e.actionData,v=e.actions,p=e.initPage,b=e.imageUrl,h=e.isEditor,E=e.isAuthor,y=e.memberActions,O=e.articleHtml,w=e.lang,k=e.payInfo,x=e.isBaiduOxApp,_=void 0!==x&&x,S=Object(r["useState"])(Object(W["d"])()?"":"https://cdn.segmentfault.com/r-66c7d226/"),C=Object(n["a"])(S,2),I=C[0],R=C[1],T=u.article,D=u.blog,L=u.description,B=Object(r["useState"])(!1),A=Object(n["a"])(B,2),P=A[0],M=A[1],H=Object(r["useState"])(Object(W["d"])()?(null===(t=document.querySelector(".article.fmt"))||void 0===t?void 0:t.innerHTML)||(null===T||void 0===T?void 0:T.parsed_text):O),q=Object(n["a"])(H,2),U=q[0],K=q[1],G=Object(r["useRef"])(),Q=Object(j["f"])();Object(W["d"])()&&!P&&(window.articleHtml=(null===(s=document.querySelector(".article.fmt"))||void 0===s?void 0:s.innerHTML)||"");return Object(r["useEffect"])((function(){if(U){if(G.current instanceof HTMLElement)for(var e=null===G||void 0===G?void 0:G.current.getElementsByTagName("a"),t=e.length,a=0;a<t;a++)e[a].target="_blank"}else{var n=Object(re["a"])();n.errorEvent({eventName:"articleContent"}),Object(f["m"])({aid:T.id,pure:1}).then((function(e){Q({type:"articleDetail/saveArticleHtml",payload:{id:T.id,parsed_text:null===e||void 0===e?void 0:e.parsed_text}}),K(null===e||void 0===e?void 0:e.parsed_text)}))}}),[U]),Object(r["useEffect"])((function(){if(!Object(ne["isEmpty"])(u)){var e=new l.a;e.update()}})),Object(r["useEffect"])((function(){M(!0),R(window.publicPath||""),Q({type:"articleDetail/saveArticleHtml",payload:{id:T.id,parsed_text:window.articleHtml}})}),[]),Object(r["useEffect"])((function(){null!==T&&void 0!==T&&T.parsed_text&&K(T.parsed_text)}),[null===T||void 0===T?void 0:T.parsed_text]),Object(r["useEffect"])((function(){if(!Object(ne["isEmpty"])(u)){var e=new l.a;e.update()}})),i.a.createElement(i.a.Fragment,null,i.a.createElement(j["a"],null,i.a.createElement("meta",{name:"twitter:card",content:b?"summary_large_image":"summary"}),i.a.createElement("meta",{name:"twitter:image",content:b?"https://segmentfault.com".concat(b):"".concat(I,"touch-icon.png")}),i.a.createElement("meta",{name:"twitter:site",content:"@segment_fault"}),i.a.createElement("meta",{name:"twitter:creator",content:"@segmentfault"}),i.a.createElement("meta",{name:"twitter:title",content:null===T||void 0===T?void 0:T.title}),i.a.createElement("meta",{name:"og:type",content:"article"}),i.a.createElement("meta",{name:"og:image",content:b?"https://segmentfault.com".concat(b):"".concat(I,"touch-icon.png")}),i.a.createElement("meta",{name:"og:title",content:null===T||void 0===T?void 0:T.title}),i.a.createElement("meta",{name:"og:description",content:L}),i.a.createElement("meta",{name:"og:url",content:"https://segmentfault.com/a/".concat(null===T||void 0===T?void 0:T.id)}),i.a.createElement("meta",{name:"og:site_name",content:"SegmentFault \u601d\u5426"}),i.a.createElement("meta",{name:"msvalidate.01",content:"2C018C53297C8388F3E7052F5E9CA6AF"}),i.a.createElement("meta",{name:"event-object",value:'{"current": ["article", ["'.concat(null===T||void 0===T?void 0:T.id,'"]], "root": ["article", "').concat(null===T||void 0===T?void 0:T.id,'"]}'),id:"SFEventObject"}),i.a.createElement("script",{type:"application/ld+json"},'{\n            "@context": "https://schema.org",\n            "@type": "Article",\n            "mainEntityOfPage": {\n              "@type": "WebPage",\n              "@id": "https://google.com/article"\n            },\n            "name": '.concat(JSON.stringify((null===T||void 0===T?void 0:T.title)||""),',\n            "headline": ').concat(JSON.stringify((null===T||void 0===T?void 0:T.title)||""),',\n            "image": "').concat(null!==T&&void 0!==T&&T.cover?null===T||void 0===T?void 0:T.cover:b||"".concat(I,"touch-icon.png"),'",\n            "datePublished": "').concat(m.a.unix(null===T||void 0===T?void 0:T.created).toISOString(),'",\n            "dateModified": "').concat(m.a.unix((null===T||void 0===T?void 0:T.created)>(null===T||void 0===T?void 0:T.modified)?null===T||void 0===T?void 0:T.created:null===T||void 0===T?void 0:T.modified).toISOString(),'",\n            "url": "https://segmentfault.com/a/').concat(null===T||void 0===T?void 0:T.id,'",\n            "author": {\n              "@type": "Person",\n              "name": ').concat(JSON.stringify(null===T||void 0===T||null===(c=T.user)||void 0===c?void 0:c.name),'\n            },\n            "publisher": {\n              "@type": "Organization",\n              "name": "SegmentFault",\n              "logo": {\n                "@type": "ImageObject",\n                "url":\n                  "https://assets.segmentfault.com/v-5fc4b0b2/global/img/static/touch-icon.png"\n              }\n            }\n          }'))),i.a.createElement(o["a"],{className:"mb-4"},(null===T||void 0===T?void 0:T.cover)&&i.a.createElement(o["a"].Img,{variant:"top",src:a("xQMv"),className:"w-100 rounded-top",style:{background:"no-repeat center url(".concat(T.cover,")"),backgroundSize:"cover"},alt:"\u5934\u56fe"}),i.a.createElement(o["a"].Body,{className:"p-lg-30 position-relative"},i.a.createElement(g,{title:null===T||void 0===T?void 0:T.title,user:null===T||void 0===T?void 0:T.user,id:null===T||void 0===T?void 0:T.id,created:null===T||void 0===T?void 0:T.created,modified:null===T||void 0===T?void 0:T.modified,initPage:p,actions:v,member_actions:y,langs:null===T||void 0===T?void 0:T.langs,lang:w}),i.a.createElement(V["a"],{name:"25"}),i.a.createElement(Y,{visible:E&&!1===(null===k||void 0===k?void 0:k.paid),payUrl:null===k||void 0===k?void 0:k.pay_url,id:null===T||void 0===T?void 0:T.id}),i.a.createElement("article",{className:"article fmt article-content ",dangerouslySetInnerHTML:{__html:U},ref:G}),!_&&i.a.createElement(J["a"],{tags:null===T||void 0===T?void 0:T.tags}),(null===T||void 0===T?void 0:T.article_type)>1&&i.a.createElement($,{originUrl:null===T||void 0===T?void 0:T.origin_url,type:null===T||void 0===T?void 0:T.article_type}),i.a.createElement("div",{className:"my-4"},i.a.createElement(V["a"],{name:"3"})),i.a.createElement(N,{realRed:null===T||void 0===T?void 0:T.real_unique_views,read:null===T||void 0===T?void 0:T.real_views,created:null===T||void 0===T?void 0:T.created,modified:null===T||void 0===T?void 0:T.modified,id:null===T||void 0===T?void 0:T.id,actions:v,initPage:p,isEditor:h,memberActions:y}),i.a.createElement(z,{id:null===T||void 0===T?void 0:T.id,title:null===T||void 0===T?void 0:T.title,votes:null===d||void 0===d?void 0:d.votes,isLiked:null===d||void 0===d?void 0:d.isLiked,isBookmarked:null===d||void 0===d?void 0:d.bookmarkState,bookmarks:null===d||void 0===d?void 0:d.bookmarks,banner:null===T||void 0===T?void 0:T.cover,isAuthor:E,hideBookmarkBtn:null===d||void 0===d?void 0:d.hideBookmarkBtn,hideShareBtn:null===d||void 0===d?void 0:d.hideShareBtn}),i.a.createElement(F,{type:null===T||void 0===T?void 0:T.article_type,licence:null===D||void 0===D?void 0:D.licence}),(null===D||void 0===D?void 0:D.id)&&!_&&i.a.createElement(ae,{blog:D}))))};t["a"]=i.a.memo(ie)},"6T2I":function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("XWsC"),o=a("9kvl"),c=function(e){var t=e.data,a=e.className,n=void 0===a?"":a,o=e.isBaiduOxApp,c=void 0!==o&&o;return c?null:r.a.createElement(i["a"],{className:"font-size-14 px-0 my-0 ".concat(n),bsPrefix:"breadcrumb bg-transparent"},r.a.createElement(i["a"].Item,{href:"/"},"\u9996\u9875"),t.map((function(e,a){return e.name?r.a.createElement(i["a"].Item,{href:e.url,key:e.url,active:t.length===a+1},e.name):null})))};t["a"]=Object(o["b"])((function(e){var t=e.global;return{isBaiduOxApp:t.isBaiduOxApp}}))(c)},"78gL":function(e,t,a){},"9/5/":function(e,t,a){(function(t){var a="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,m=u||d||Function("return this")(),f=Object.prototype,v=f.toString,p=Math.max,b=Math.min,h=function(){return m.Date.now()};function g(e,t,n){var r,i,o,c,l,s,u=0,d=!1,m=!1,f=!0;if("function"!=typeof e)throw new TypeError(a);function v(t){var a=r,n=i;return r=i=void 0,u=t,c=e.apply(n,a),c}function g(e){return u=e,l=setTimeout(j,t),d?v(e):c}function y(e){var a=e-s,n=e-u,r=t-a;return m?b(r,o-n):r}function O(e){var a=e-s,n=e-u;return void 0===s||a>=t||a<0||m&&n>=o}function j(){var e=h();if(O(e))return k(e);l=setTimeout(j,y(e))}function k(e){return l=void 0,f&&r?v(e):(r=i=void 0,c)}function N(){void 0!==l&&clearTimeout(l),u=0,r=s=i=l=void 0}function x(){return void 0===l?c:k(h())}function _(){var e=h(),a=O(e);if(r=arguments,i=this,s=e,a){if(void 0===l)return g(s);if(m)return l=setTimeout(j,t),v(s)}return void 0===l&&(l=setTimeout(j,t)),c}return t=w(t)||0,E(n)&&(d=!!n.leading,m="maxWait"in n,o=m?p(w(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),_.cancel=N,_.flush=x,_}function E(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){return!!e&&"object"==typeof e}function O(e){return"symbol"==typeof e||y(e)&&v.call(e)==r}function w(e){if("number"==typeof e)return e;if(O(e))return n;if(E(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=E(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var a=c.test(e);return a||l.test(e)?s(e.slice(2),a?2:8):o.test(e)?n:+e}e.exports=g}).call(this,a("IyRk"))},"9F+u":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n,r,i=a("EVdn");function o(e){function t(){i("body").find(".ad-container").each((function(e,t){var a,n;(!i(t).hasClass(".ad-close")||null!==(a=i(t))&&void 0!==a&&null!==(n=a.children())&&void 0!==n&&n.length)&&i(t).show()})),e&&i(".ad-close").parent().each((function(t,a){var n=i(a).attr("id"),r="".concat(e,"-").concat(n),o=parseInt(localStorage.getItem(r)||"0")||0;"OA_holder_5"===n&&(o=Math.max(parseInt(localStorage.getItem("article-OA_holder_5")||"0"),parseInt(localStorage.getItem("question-OA_holder_5")||"0"),parseInt(localStorage.getItem("global-OA_holder_5")||"0"))),o<Date.now()?i("#"+n).css("display","block"):i("#"+n).remove()})),i(".ad-close").css({position:"relative"}).append(i('<div class="sflex-center ad-close-div"></div>').css({width:"16px",height:"16px",position:"absolute",right:"8px",top:"8px","background-color":"rgba(0,0,0,.75)",cursor:"pointer","pointer-events":"none","border-radius":"50%"}).append(i('<span class="ad-close-span"></span>').css({width:"8px",height:"8px",display:"block","background-image":"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath fill='%23FFF' fill-rule='evenodd' d='M6.6667 0L8 1.3333 5.333 4 8 6.6667 6.6667 8 4 5.333 1.3333 8 0 6.6667 2.666 4 0 1.3333 1.3333 0 4 2.667 6.6667 0z'/%3E%3C/svg%3E\")","background-repeat":"no-repeat","background-position":"center","pointer-events":"auto"}))),i(".ad-close-span").on("click",(function(){var t=i(this).parents(".ad-close").parent(),a=t.attr("id");t.parent().remove(),localStorage.setItem("".concat(e,"-").concat(a),(Date.now()+864e5).toString())}))}n&&clearInterval(n),n=setInterval((function(){i(".ad-close").length>0&&(clearInterval(n),t())}),300),r&&clearInterval(r),r=setInterval((function(){i("div[id^='OA_holder_']").length>0&&(clearInterval(r),i("div[id^='OA_holder_']").each((function(e,t){var a=i(t).children("div[id^='beacon_']").length;a>0&&i(t).parent().show()})))}),500)}},"9cdK":function(e,t,a){},"9vsu":function(e,t,a){"use strict";var n=a("TSYQ"),r=a.n(n),i=a("q1tI"),o=a("vUet"),c=a("YdCC"),l=Object(c["a"])("popover-header"),s=Object(c["a"])("popover-body"),u=a("qIv2"),d=a("nKUr");const m={placement:"right"},f=i["forwardRef"]((({bsPrefix:e,placement:t,className:a,style:n,children:i,body:c,arrowProps:l,popper:m,show:f,...v},p)=>{const b=Object(o["a"])(e,"popover"),h=Object(o["b"])(),[g]=(null==t?void 0:t.split("-"))||[],E=Object(u["a"])(g,h);return Object(d["jsxs"])("div",{ref:p,role:"tooltip",style:n,"x-placement":g,className:r()(a,b,g&&`bs-popover-${E}`),...v,children:[Object(d["jsx"])("div",{className:"popover-arrow",...l}),c?Object(d["jsx"])(s,{children:i}):i]})}));f.defaultProps=m;t["a"]=Object.assign(f,{Header:l,Body:s,POPPER_OFFSET:[0,8]})},AINe:function(e,t,a){"use strict";var n=a("TSYQ"),r=a.n(n),i=a("q1tI"),o=a("vUet"),c=a("qIv2"),l=a("nKUr");const s={placement:"right"},u=i["forwardRef"]((({bsPrefix:e,placement:t,className:a,style:n,children:i,arrowProps:s,popper:u,show:d,...m},f)=>{e=Object(o["a"])(e,"tooltip");const v=Object(o["b"])(),[p]=(null==t?void 0:t.split("-"))||[],b=Object(c["a"])(p,v);return Object(l["jsxs"])("div",{ref:f,style:n,role:"tooltip","x-placement":p,className:r()(a,e,`bs-tooltip-${b}`),...m,children:[Object(l["jsx"])("div",{className:"tooltip-arrow",...s}),Object(l["jsx"])("div",{className:`${e}-inner`,children:i})]})}));u.defaultProps=s,u.displayName="Tooltip",t["a"]=u},BVjQ:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=function(){var e=function(t,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},e(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),r=function(e){function t(t){var a=e.call(this,t)||this;return a.name="AssertionError",a}return n(t,e),t}(Error);function i(e,t){if(!e)throw new r(t)}},GemG:function(e,t,a){var n,r,i;(function(a,o){r=[e,t],n=o,i="function"===typeof n?n.apply(t,r):n,void 0===i||(e.exports=i)})(0,(function(e,t){"use strict";var a="function"===typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(a){return t[e.indexOf(a)]},set:function(a,n){-1===e.indexOf(a)&&(e.push(a),t.push(n))},delete:function(a){var n=e.indexOf(a);n>-1&&(e.splice(n,1),t.splice(n,1))}}}(),n=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(l){n=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function r(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!a.has(e)){var t=null,r=null,i=null,o=function(){e.clientWidth!==r&&m()},c=function(t){window.removeEventListener("resize",o,!1),e.removeEventListener("input",m,!1),e.removeEventListener("keyup",m,!1),e.removeEventListener("autosize:destroy",c,!1),e.removeEventListener("autosize:update",m,!1),Object.keys(t).forEach((function(a){e.style[a]=t[a]})),a.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",c,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",m,!1),window.addEventListener("resize",o,!1),e.addEventListener("input",m,!1),e.addEventListener("autosize:update",m,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",a.set(e,{destroy:c,update:m}),l()}function l(){var a=window.getComputedStyle(e,null);"vertical"===a.resize?e.style.resize="none":"both"===a.resize&&(e.style.resize="horizontal"),t="content-box"===a.boxSizing?-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)):parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),isNaN(t)&&(t=0),m()}function s(t){var a=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=a,e.style.overflowY=t}function u(e){var t=[];while(e&&e.parentNode&&e.parentNode instanceof Element)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}function d(){if(0!==e.scrollHeight){var a=u(e),n=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",r=e.clientWidth,a.forEach((function(e){e.node.scrollTop=e.scrollTop})),n&&(document.documentElement.scrollTop=n)}}function m(){d();var t=Math.round(parseFloat(e.style.height)),a=window.getComputedStyle(e,null),r="content-box"===a.boxSizing?Math.round(parseFloat(a.height)):e.offsetHeight;if(r<t?"hidden"===a.overflowY&&(s("scroll"),d(),r="content-box"===a.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==a.overflowY&&(s("hidden"),d(),r="content-box"===a.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),i!==r){i=r;var o=n("autosize:resized");try{e.dispatchEvent(o)}catch(c){}}}}function i(e){var t=a.get(e);t&&t.destroy()}function o(e){var t=a.get(e);t&&t.update()}var c=null;"undefined"===typeof window||"function"!==typeof window.getComputedStyle?(c=function(e){return e},c.destroy=function(e){return e},c.update=function(e){return e}):(c=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return r(e,t)})),e},c.destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],i),e},c.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.default=c,e.exports=t["default"]}))},HToz:function(e,t,a){!function(t,a){e.exports=a()}(0,(function(){"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var t="undefined"!=typeof window,a=t&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),n=t&&"IntersectionObserver"in window,r=t&&"classList"in document.createElement("p"),i=t&&window.devicePixelRatio>1,o={elements_selector:".lazy",container:a||t?document:null,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",data_bg_hidpi:"bg-hidpi",data_bg_multi:"bg-multi",data_bg_multi_hidpi:"bg-multi-hidpi",data_poster:"poster",class_applied:"applied",class_loading:"loading",class_loaded:"loaded",class_error:"error",class_entered:"entered",class_exited:"exited",unobserve_completed:!0,unobserve_entered:!1,cancel_on_exit:!0,callback_enter:null,callback_exit:null,callback_applied:null,callback_loading:null,callback_loaded:null,callback_error:null,callback_finish:null,callback_cancel:null,use_native:!1},c=function(t){return e({},o,t)},l=function(e,t){var a,n="LazyLoad::Initialized",r=new e(t);try{a=new CustomEvent(n,{detail:{instance:r}})}catch(e){(a=document.createEvent("CustomEvent")).initCustomEvent(n,!1,!1,{instance:r})}window.dispatchEvent(a)},s="loading",u="loaded",d="applied",m="error",f="native",v="data-",p="ll-status",b=function(e,t){return e.getAttribute(v+t)},h=function(e){return b(e,p)},g=function(e,t){return function(e,t,a){var n="data-ll-status";null!==a?e.setAttribute(n,a):e.removeAttribute(n)}(e,0,t)},E=function(e){return g(e,null)},y=function(e){return null===h(e)},O=function(e){return h(e)===f},w=[s,u,d,m],j=function(e,t,a,n){e&&(void 0===n?void 0===a?e(t):e(t,a):e(t,a,n))},k=function(e,t){r?e.classList.add(t):e.className+=(e.className?" ":"")+t},N=function(e,t){r?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},x=function(e){return e.llTempImage},_=function(e,t){if(t){var a=t._observer;a&&a.unobserve(e)}},S=function(e,t){e&&(e.loadingCount+=t)},C=function(e,t){e&&(e.toLoadCount=t)},I=function(e){for(var t,a=[],n=0;t=e.children[n];n+=1)"SOURCE"===t.tagName&&a.push(t);return a},R=function(e,t,a){a&&e.setAttribute(t,a)},T=function(e,t){e.removeAttribute(t)},D=function(e){return!!e.llOriginalAttrs},L=function(e){if(!D(e)){var t={};t.src=e.getAttribute("src"),t.srcset=e.getAttribute("srcset"),t.sizes=e.getAttribute("sizes"),e.llOriginalAttrs=t}},B=function(e){if(D(e)){var t=e.llOriginalAttrs;R(e,"src",t.src),R(e,"srcset",t.srcset),R(e,"sizes",t.sizes)}},A=function(e,t){R(e,"sizes",b(e,t.data_sizes)),R(e,"srcset",b(e,t.data_srcset)),R(e,"src",b(e,t.data_src))},P=function(e){T(e,"src"),T(e,"srcset"),T(e,"sizes")},M=function(e,t){var a=e.parentNode;a&&"PICTURE"===a.tagName&&I(a).forEach(t)},z={IMG:function(e,t){M(e,(function(e){L(e),A(e,t)})),L(e),A(e,t)},IFRAME:function(e,t){R(e,"src",b(e,t.data_src))},VIDEO:function(e,t){!function(e,a){I(e).forEach((function(e){R(e,"src",b(e,t.data_src))}))}(e),R(e,"poster",b(e,t.data_poster)),R(e,"src",b(e,t.data_src)),e.load()}},H=function(e,t){var a=z[e.tagName];a&&a(e,t)},F=function(e,t,a){S(a,1),k(e,t.class_loading),g(e,s),j(t.callback_loading,e,a)},q=["IMG","IFRAME","VIDEO"],U=function(e,t){!t||function(e){return e.loadingCount>0}(t)||function(e){return e.toLoadCount>0}(t)||j(e.callback_finish,t)},Y=function(e,t,a){e.addEventListener(t,a),e.llEvLisnrs[t]=a},V=function(e,t,a){e.removeEventListener(t,a)},W=function(e){return!!e.llEvLisnrs},K=function(e){if(W(e)){var t=e.llEvLisnrs;for(var a in t){var n=t[a];V(e,a,n)}delete e.llEvLisnrs}},$=function(e,t,a){!function(e){delete e.llTempImage}(e),S(a,-1),function(e){e&&(e.toLoadCount-=1)}(a),N(e,t.class_loading),t.unobserve_completed&&_(e,a)},J=function(e,t,a){var n=x(e)||e;W(n)||function(e,t,a){W(e)||(e.llEvLisnrs={});var n="VIDEO"===e.tagName?"loadeddata":"load";Y(e,n,t),Y(e,"error",a)}(n,(function(r){!function(e,t,a,n){var r=O(t);$(t,a,n),k(t,a.class_loaded),g(t,u),j(a.callback_loaded,t,n),r||U(a,n)}(0,e,t,a),K(n)}),(function(r){!function(e,t,a,n){var r=O(t);$(t,a,n),k(t,a.class_error),g(t,m),j(a.callback_error,t,n),r||U(a,n)}(0,e,t,a),K(n)}))},G=function(e,t,a){!function(e){e.llTempImage=document.createElement("IMG")}(e),J(e,t,a),function(e,t,a){var n=b(e,t.data_bg),r=b(e,t.data_bg_hidpi),o=i&&r?r:n;o&&(e.style.backgroundImage='url("'.concat(o,'")'),x(e).setAttribute("src",o),F(e,t,a))}(e,t,a),function(e,t,a){var n=b(e,t.data_bg_multi),r=b(e,t.data_bg_multi_hidpi),o=i&&r?r:n;o&&(e.style.backgroundImage=o,function(e,t,a){k(e,t.class_applied),g(e,d),t.unobserve_completed&&_(e,t),j(t.callback_applied,e,a)}(e,t,a))}(e,t,a)},Q=function(e,t,a){!function(e){return q.indexOf(e.tagName)>-1}(e)?G(e,t,a):function(e,t,a){J(e,t,a),H(e,t),F(e,t,a)}(e,t,a)},Z=["IMG","IFRAME"],X=function(e){return e.use_native&&"loading"in HTMLImageElement.prototype},ee=function(e,t,a){e.forEach((function(e){return function(e){return e.isIntersecting||e.intersectionRatio>0}(e)?function(e,t,a,n){g(e,"entered"),k(e,a.class_entered),N(e,a.class_exited),function(e,t,a){t.unobserve_entered&&_(e,a)}(e,a,n),j(a.callback_enter,e,t,n),function(e){return w.indexOf(h(e))>=0}(e)||Q(e,a,n)}(e.target,e,t,a):function(e,t,a,n){y(e)||(k(e,a.class_exited),function(e,t,a,n){a.cancel_on_exit&&function(e){return h(e)===s}(e)&&"IMG"===e.tagName&&(K(e),function(e){M(e,(function(e){P(e)})),P(e)}(e),function(e){M(e,(function(e){B(e)})),B(e)}(e),N(e,a.class_loading),S(n,-1),E(e),j(a.callback_cancel,e,t,n))}(e,t,a,n),j(a.callback_exit,e,t,n))}(e.target,e,t,a)}))},te=function(e){return Array.prototype.slice.call(e)},ae=function(e){return e.container.querySelectorAll(e.elements_selector)},ne=function(e){return function(e){return h(e)===m}(e)},re=function(e,t){return function(e){return te(e).filter(y)}(e||ae(t))},ie=function(e,a){var r=c(e);this._settings=r,this.loadingCount=0,function(e,t){n&&!X(e)&&(t._observer=new IntersectionObserver((function(a){ee(a,e,t)}),function(e){return{root:e.container===document?null:e.container,rootMargin:e.thresholds||e.threshold+"px"}}(e)))}(r,this),function(e,a){t&&window.addEventListener("online",(function(){!function(e,t){var a;(a=ae(e),te(a).filter(ne)).forEach((function(t){N(t,e.class_error),E(t)})),t.update()}(e,a)}))}(r,this),this.update(a)};return ie.prototype={update:function(e){var t,r,i=this._settings,o=re(e,i);C(this,o.length),!a&&n?X(i)?function(e,t,a){e.forEach((function(e){-1!==Z.indexOf(e.tagName)&&(e.setAttribute("loading","lazy"),function(e,t,a){J(e,t,a),H(e,t),g(e,f)}(e,t,a))})),C(a,0)}(o,i,this):(r=o,function(e){e.disconnect()}(t=this._observer),function(e,t){t.forEach((function(t){e.observe(t)}))}(t,r)):this.loadAll(o)},destroy:function(){this._observer&&this._observer.disconnect(),ae(this._settings).forEach((function(e){delete e.llOriginalAttrs})),delete this._observer,delete this._settings,delete this.loadingCount,delete this.toLoadCount},loadAll:function(e){var t=this,a=this._settings;re(e,a).forEach((function(e){_(e,t),Q(e,a,t)}))}},ie.load=function(e,t){var a=c(t);Q(e,a)},ie.resetStatus=function(e){E(e)},t&&function(e,t){if(t)if(t.length)for(var a,n=0;a=t[n];n+=1)l(e,a);else l(e,t)}(ie,window.lazyLoadOptions),ie}))},Hi3p:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=function(e){var t=e.data,a=e.className,n=void 0===a?"":a,i=e.source,o=void 0===i?"":i,c=e.isSingle,l=void 0!==c&&c;return r.a.createElement("a",{href:"product"===o?null===t||void 0===t?void 0:t.product_url:o?"".concat(t.url,"/").concat(o):t.url,className:"".concat(l?"":"m-1"," badge-tag ").concat(t.isGray?"badge-gray-tag":""," ").concat(n),key:t.id},(null===t||void 0===t?void 0:t.icon_url)&&r.a.createElement("img",{src:t.icon_url,alt:"",width:"16",height:"16",className:"me-1"}),t.name)};t["a"]=r.a.memo(i)},NiKV:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("TSYQ"),o=a.n(i),c=function(){var e=function(t,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])},e(t,a)};return function(t,a){function n(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)}}(),l=function(){return l=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)},s=function(e,t,a,n){function r(e){return e instanceof a?e:new a((function(t){t(e)}))}return new(a||(a=Promise))((function(a,i){function o(e){try{l(n.next(e))}catch(t){i(t)}}function c(e){try{l(n["throw"](e))}catch(t){i(t)}}function l(e){e.done?a(e.value):r(e.value).then(o,c)}l((n=n.apply(e,t||[])).next())}))},u=function(e,t){var a,n,r,i,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(e){return function(t){return l([e,t])}}function l(i){if(a)throw new TypeError("Generator is already executing.");while(o)try{if(a=1,n&&(r=2&i[0]?n["return"]:i[0]?n["throw"]||((r=n["return"])&&r.call(n),0):n.next)&&!(r=r.call(n,i[1])).done)return r;switch(n=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,n=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!(r=r.length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){o.label=i[1];break}if(6===i[0]&&o.label<r[1]){o.label=r[1],r=i;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(i);break}r[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(c){i=[6,c],n=0}finally{a=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},m=function(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then},f=function(e,t){return{left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}},v=function(e,t){return{top:(window.screen.height-t)/2,left:(window.screen.width-e)/2}};function p(e,t,a){var n=t.height,r=t.width,i=d(t,["height","width"]),o=l({height:n,width:r,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},i),c=window.open(e,"",Object.keys(o).map((function(e){return e+"="+o[e]})).join(", "));if(a)var s=window.setInterval((function(){try{(null===c||c.closed)&&(window.clearInterval(s),a(c))}catch(e){}}),1e3);return c}var b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.openShareDialog=function(e){var a=t.props,n=a.onShareWindowClose,r=a.windowHeight,i=void 0===r?400:r,o=a.windowPosition,c=void 0===o?"windowCenter":o,s=a.windowWidth,u=void 0===s?550:s,d=l({height:i,width:u},"windowCenter"===c?f(u,i):v(u,i));p(e,d,n)},t.handleClick=function(e){return s(t,void 0,void 0,(function(){var t,a,n,r,i,o,c,l,s,d;return u(this,(function(u){switch(u.label){case 0:return t=this.props,a=t.beforeOnClick,n=t.disabled,r=t.networkLink,i=t.onClick,o=t.url,c=t.openShareDialogOnClick,l=t.opts,s=r(o,l),n?[2]:(e.preventDefault(),a?(d=a(),m(d)?[4,d]:[3,2]):[3,2]);case 1:u.sent(),u.label=2;case 2:return c&&this.openShareDialog(s),i&&i(e,s),[2]}}))}))},t}return c(t,e),t.prototype.render=function(){var e=this.props,t=(e.beforeOnClick,e.children),a=e.className,n=e.disabled,i=e.disabledStyle,c=e.forwardedRef,s=(e.networkLink,e.networkName),u=(e.onShareWindowClose,e.openShareDialogOnClick,e.opts,e.resetButtonStyle),m=e.style,f=(e.url,e.windowHeight,e.windowPosition,e.windowWidth,d(e,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","networkLink","networkName","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","url","windowHeight","windowPosition","windowWidth"])),v=o()("react-share__ShareButton",{"react-share__ShareButton--disabled":!!n,disabled:!!n},a),p=l(l(u?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},m),n&&i);return r.a.createElement("button",l({},f,{"aria-label":f["aria-label"]||s,className:v,onClick:this.handleClick,ref:c,style:p}),t)},t.defaultProps={disabledStyle:{opacity:.6},openShareDialogOnClick:!0,resetButtonStyle:!0},t}(n["Component"]),h=b,g=function(){return g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},g.apply(this,arguments)};function E(e,t,a,i){function o(n,o){var c=a(n),l=g({},n),s=Object.keys(c);return s.forEach((function(e){delete l[e]})),r.a.createElement(h,g({},i,l,{forwardedRef:o,networkName:e,networkLink:t,opts:a(n)}))}return o.displayName="ShareButton-"+e,Object(n["forwardRef"])(o)}t["a"]=E},PFmq:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a("rAM+"),r=a("k1fw"),i=a("9og8"),o=a("WmNS"),c=a.n(o),l=a("LvDl"),s=a("6Yt9"),u=a("Dp36");function d(e){return!!e&&Boolean(e.match(/(Baiduspider|Googlebot)/))}function m(e,t){return e instanceof Function?(t=e,e={}):e||(e={}),function(){var a=Object(i["a"])(c.a.mark((function a(i){var o,m,f,v,p,b,h,g,E,y,O,w,j,k,N,x,_,S,C,I,R,T;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i.initResult||(i.initResult={}),p=new u["V"](i.serverData),b=i.store,h=i.isServer?null===(o=i.serverData)||void 0===o?void 0:o.Token:Object(s["b"])(),i.isServer&&!Object(l["isEmpty"])(i.serverData)&&b.dispatch({type:"global/saveServerData",payload:i.serverData}),b.dispatch({type:"global/saveSessionInfo",payload:Object(r["a"])(Object(r["a"])({},(null===(m=b.getState().global)||void 0===m?void 0:m.sessionInfo)||{}),{},{key:h})}),!i.isServer||d(null===(f=i.serverData)||void 0===f?void 0:f.userAgent)){a.next=12;break}return a.next=9,p.getTemporaryToken();case 9:g=a.sent,i.initResult.eggCtx&&i.initResult.eggCtx.cookies.set("PHPSESSID",g.key,Object(r["a"])({httpOnly:!1,signed:!1,maxAge:6048e5},{domain:".".concat(i.initResult.eggCtx.request.host)})),b.dispatch({type:"global/saveSessionInfo",payload:g});case 12:if(E=b.getState(),y=(null===(v=E.global)||void 0===v?void 0:v.sessionInfo)||{},!i.isServer||!y.login){a.next=19;break}return a.next=17,p.getUser();case 17:O=a.sent,b.dispatch({type:"global/saveUser",payload:O});case 19:if(w={},"object"===typeof e&&(w=e),!w.requireLogin||y.login){a.next=27;break}return i.initResult.action="redirect",i.initResult.param="/user/login",a.abrupt("return",E);case 27:if(!w.requireNotLogin||!y.login){a.next=31;break}return i.initResult.action="redirect",i.initResult.param="/",a.abrupt("return",E);case 31:if(b.dispatch({type:"global/saveRoute",payload:Object(r["a"])({customLayout:i.route.customLayout||!1,headerType:i.route.headerType},i.initResult)}),!t){a.next=38;break}return a.next=35,t(i);case 35:a.t0=a.sent,a.next=39;break;case 38:a.t0=E;case 39:if(j=a.t0,!w.redirectVerify){a.next=61;break}k=Object(n["a"])(w.redirectVerify),a.prev=42,k.s();case 44:if((N=k.n()).done){a.next=53;break}if(x=N.value,_=Object(l["get"])(j,x),Object(l["isEmpty"])(_)||!_.redirect_url){a.next=51;break}return i.initResult.action="redirect",i.initResult.param=_.redirect_url,a.abrupt("break",53);case 51:a.next=44;break;case 53:a.next=58;break;case 55:a.prev=55,a.t1=a["catch"](42),k.e(a.t1);case 58:return a.prev=58,k.f(),a.finish(58);case 61:if(S=Object(l["get"])(j,"global.routeInterceptor"),!S||!S.path){a.next=66;break}return i.initResult.action="redirect",i.initResult.param=S.path,a.abrupt("return",j);case 66:if(!i.initResult.action){a.next=68;break}return a.abrupt("return",j);case 68:if(!w.requireState){a.next=88;break}C=Object(n["a"])(w.requireState),a.prev=70,C.s();case 72:if((I=C.n()).done){a.next=80;break}if(R=I.value,T=Object(l["get"])(j,R),T&&!Object(l["isEmpty"])(T)){a.next=78;break}return!y.login&&w.emptyStateToLogin?(i.initResult.action="redirect",i.initResult.param="/user/login"):i.initResult.action="404",a.abrupt("break",80);case 78:a.next=72;break;case 80:a.next=85;break;case 82:a.prev=82,a.t2=a["catch"](70),C.e(a.t2);case 85:return a.prev=85,C.f(),a.finish(85);case 88:return a.abrupt("return",j);case 89:case"end":return a.stop()}}),a,null,[[42,55,58,61],[70,82,85,88]])})));return function(e){return a.apply(this,arguments)}}()}},PmrS:function(e,t,a){},QeUd:function(e,t,a){"use strict";var n=a("BVjQ"),r=a("d2ag"),i=a("NiKV");function o(e,t){var a=t.title,i=t.via,o=t.hashtags,c=void 0===o?[]:o,l=t.related,s=void 0===l?[]:l;return Object(n["a"])(e,"twitter.url"),Object(n["a"])(Array.isArray(c),"twitter.hashtags is not an array"),Object(n["a"])(Array.isArray(s),"twitter.related is not an array"),"https://twitter.com/share"+Object(r["a"])({url:e,text:a,via:i,hashtags:c.length>0?c.join(","):void 0,related:s.length>0?s.join(","):void 0})}var c=Object(i["a"])("twitter",o,(function(e){return{hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}}),{windowWidth:550,windowHeight:400});t["a"]=c},QgiU:function(e,t,a){!function(t,a){e.exports=a()}(0,(function(){"use strict";return function(e,t,a){e=e||{};var n=t.prototype,r={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(e,t,a,r){return n.fromToBase(e,t,a,r)}a.en.relativeTime=r,n.fromToBase=function(t,n,i,o,c){for(var l,s,u,d=i.$locale().relativeTime||r,m=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=m.length,v=0;v<f;v+=1){var p=m[v];p.d&&(l=o?a(t).diff(i,p.d,!0):i.diff(t,p.d,!0));var b=(e.rounding||Math.round)(Math.abs(l));if(u=l>0,b<=p.r||!p.r){b<=1&&v>0&&(p=m[v-1]);var h=d[p.l];c&&(b=c(""+b)),s="string"==typeof h?h.replace("%d",b):h(b,n,p.l,u);break}}if(n)return s;var g=u?d.future:d.past;return"function"==typeof g?g(s):g.replace("%s",s)},n.to=function(e,t){return i(e,t,this,!0)},n.from=function(e,t){return i(e,t,this)};var o=function(e){return e.$u?a.utc():a()};n.toNow=function(e){return this.to(o(this),e)},n.fromNow=function(e){return this.from(o(this),e)}}}))},SoKV:function(e,t,a){},TB1r:function(e,t,a){"use strict";var n=a("9og8"),r=a("tJVT"),i=a("WmNS"),o=a.n(i),c=a("q1tI"),l=a.n(c),s=a("6xyR"),u=a("Dp36"),d=a("6Yt9"),m=a("wwbV"),f=a("0lfv"),v=function(e){var t,a,i,v=e.user,p=Object(c["useState"])(null!==v&&void 0!==v&&v.is_followed?1:0),b=Object(r["a"])(p,2),h=b[0],g=b[1],E=Object(c["useState"])(null===v||void 0===v?void 0:v.followers),y=Object(r["a"])(E,2),O=y[0],w=y[1];Object(c["useEffect"])((function(){w(null===v||void 0===v?void 0:v.followers)}),[null===v||void 0===v?void 0:v.followers]);var j=function(){var e=Object(n["a"])(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Object(d["c"])()){e.next=2;break}return e.abrupt("return",!1);case 2:return Object(u["sb"])({id:v.id,type:"user",isFollow:h?0:1}).then((function(e){w(null!==e&&void 0!==e&&e.is_followed?O+1:O-1),g(null===e||void 0===e?void 0:e.is_followed)})),e.abrupt("return",!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(s["a"],null,l.a.createElement(s["a"].Body,null,l.a.createElement("div",{className:"d-flex align-items-center mb-3"},l.a.createElement("picture",{className:"rounded-circle me-3"},l.a.createElement("a",{href:null===v||void 0===v?void 0:v.url},l.a.createElement("img",{src:(null===v||void 0===v?void 0:v.avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",alt:"avatar",width:"64",height:"64",className:"rounded-circle"}))),l.a.createElement("div",null,l.a.createElement("h5",{className:"mb-0"},l.a.createElement("a",{href:null===v||void 0===v?void 0:v.url,className:"text-body"},null===v||void 0===v?void 0:v.name)),Boolean(null===v||void 0===v||null===(t=v.user_auth)||void 0===t?void 0:t.is_auth)&&(null===v||void 0===v||null===(a=v.user_auth)||void 0===a?void 0:a.info)&&l.a.createElement("div",{className:"mt-2 font-size-14 authentication-info"},l.a.createElement("i",{className:"me-1 text-warning fas fa-badge-check"}),null===v||void 0===v||null===(i=v.user_auth)||void 0===i?void 0:i.info))),(null===v||void 0===v?void 0:v.excerpt)&&l.a.createElement("div",{className:"text-secondary text-truncate-2 userExcerpt mb-3",dangerouslySetInnerHTML:{__html:null===v||void 0===v?void 0:v.excerpt}}),l.a.createElement("div",{className:"d-flex align-items-center mb-3"},l.a.createElement("div",{className:"me-4"},l.a.createElement("strong",null,Object(f["j"])(null===v||void 0===v?void 0:v.rank)),l.a.createElement("span",{className:"text-secondary"}," \u58f0\u671b")),l.a.createElement("div",null,l.a.createElement("strong",null,Object(f["j"])(O)||0),l.a.createElement("span",{className:"text-secondary"}," \u7c89\u4e1d"))),l.a.createElement("div",{className:"d-grid"},l.a.createElement(m["a"],{variant:"primary",onClick:j},h?"\u5df2\u5173\u6ce8":"\u5173\u6ce8\u4f5c\u8005"))))};t["a"]=l.a.memo(v)},Vhrh:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a("q1tI");function r(){var e=Object(n["useRef"])(!0),t=Object(n["useRef"])((function(){return e.current}));return Object(n["useEffect"])((function(){return function(){e.current=!1}}),[]),t.current}var i=a("i52p"),o=Math.pow(2,31)-1;function c(e,t,a){var n=a-Date.now();e.current=n<=o?setTimeout(t,n):setTimeout((function(){return c(e,t,a)}),o)}function l(){var e=r(),t=Object(n["useRef"])();return Object(i["a"])((function(){return clearTimeout(t.current)})),Object(n["useMemo"])((function(){var a=function(){return clearTimeout(t.current)};function n(n,r){void 0===r&&(r=0),e()&&(a(),r<=o?t.current=setTimeout(n,r):c(t,n,Date.now()+r))}return{set:n,clear:a}}),[])}},XWsC:function(e,t,a){"use strict";var n=a("TSYQ"),r=a.n(n),i=a("q1tI"),o=a("vUet"),c=a("8lGn"),l=a("nKUr");const s={active:!1,linkProps:{}},u=i["forwardRef"]((({bsPrefix:e,active:t,children:a,className:n,as:i="li",linkAs:s=c["a"],linkProps:u,href:d,title:m,target:f,...v},p)=>{const b=Object(o["a"])(e,"breadcrumb-item");return Object(l["jsx"])(i,{ref:p,...v,className:r()(b,n,{active:t}),"aria-current":t?"page":void 0,children:t?a:Object(l["jsx"])(s,{...u,href:d,title:m,target:f,children:a})})}));u.displayName="BreadcrumbItem",u.defaultProps=s;var d=u;const m={label:"breadcrumb",listProps:{}},f=i["forwardRef"]((({bsPrefix:e,className:t,listProps:a,children:n,label:i,as:c="nav",...s},u)=>{const d=Object(o["a"])(e,"breadcrumb");return Object(l["jsx"])(c,{"aria-label":i,className:t,ref:u,...s,children:Object(l["jsx"])("ol",{...a,className:r()(d,null==a?void 0:a.className),children:n})})}));f.displayName="Breadcrumb",f.defaultProps=m;t["a"]=Object.assign(f,{Item:d})},YKRR:function(e,t,a){"use strict";var n=a("tJVT"),r=a("q1tI"),i=a.n(r),o=a("EVdn"),c=function(){var e=function(){o("body,html").animate({scrollTop:0})},t=Object(r["useState"])(0),a=Object(n["a"])(t,2),c=a[0],l=a[1],s=function(){l(window.scrollY)};return Object(r["useEffect"])((function(){return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}})),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"fixedTools",className:"position-fixed d-none ".concat(c>720?"d-xl-flex":""),style:{right:"24px",bottom:"24px"}},i.a.createElement("button",{type:"button",className:"btn btn-light",title:"\u56de\u9876\u90e8",onClick:e},"\u25b2")))};t["a"]=c},YdHu:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=function(e,t){var a=e.children,n=e.onClick,i=e.className,o=e.domType,c=void 0===o?"a":o;return"a"===c?r.a.createElement("a",{href:"###",className:i,ref:t,onClick:function(e){e.preventDefault(),n(e)}},a):"button"===c?r.a.createElement("button",{className:i,ref:t,onClick:function(e){e.preventDefault(),n(e)}}):r.a.createElement("div",{className:i,ref:t,onClick:function(e){e.preventDefault(),n(e)}},a)};t["a"]=r.a.forwardRef(i)},aWbt:function(e,t,a){"use strict";var n=a("BVjQ"),r=a("d2ag"),i=a("NiKV");function o(e,t){var a=t.quote,i=t.hashtag;return Object(n["a"])(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+Object(r["a"])({u:e,quote:a,hashtag:i})}var c=Object(i["a"])("facebook",o,(function(e){return{quote:e.quote,hashtag:e.hashtag}}),{windowWidth:550,windowHeight:400});t["a"]=c},cor7:function(e,t,a){"use strict";var n=a("0Owb"),r=a("9og8"),i=a("jrin"),o=a("k1fw"),c=a("oBTY"),l=a("tJVT"),s=a("WmNS"),u=a.n(s),d=a("q1tI"),m=a.n(d),f=a("6xyR"),v=a("sjrs"),p=a("NAXS"),b=a("GemG"),h=a.n(b),g=a("LvDl"),E=a("Dp36"),y=a("tSvB"),O=a("QojX"),w=a("HRRZ"),j=(a("gZRy"),function(e){var t=e.isChild,a=void 0!==t&&t,n=e.item,r=e.parentItem,i=e.onChangeOfComment,c=e.onComment,l=Object(d["useRef"])(null);return Object(d["useEffect"])((function(){if(l.current&&(h()(l.current),n.original_text)){var e=n.original_text.length;l.current.setSelectionRange(e,e)}}),[l]),m.a.createElement(O["a"],{className:"edit-form ".concat(a?"edit-reply-form":"")},m.a.createElement(w["a"],{className:"mb-3"},m.a.createElement(O["a"].Control,{as:"textarea",className:"comment-text",rows:1,ref:l,autoFocus:!0,value:n.original_text,size:"sm",onChange:function(e){r?i(Object(o["a"])(Object(o["a"])({},n),{},{original_text:e.target.value}),r):i(Object(o["a"])(Object(o["a"])({},n),{},{original_text:e.target.value}))},placeholder:"\u64b0\u5199\u8bc4\u8bba ...",isInvalid:n.isInvalid}),m.a.createElement(O["a"].Control.Feedback,{type:"invalid"},n.errorMsg)),m.a.createElement("div",{className:"my-3 d-flex align-content-center justify-content-end"},m.a.createElement("button",{type:"button",className:"btn btn-outline-secondary btn-sm me-2 edit-top-comment-cancel-btn cancelEdit",onClick:function(){r?i(Object(o["a"])(Object(o["a"])({},n),{},{isEdit:!1}),r):i(Object(o["a"])(Object(o["a"])({},n),{},{isEdit:!1}))}},"\u53d6\u6d88"),m.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return c({item:n,parentItem:r})},disabled:!n.original_text},"\u63d0\u4ea4")))}),k=m.a.memo(j),N=a("TUci"),x=a("wwbV"),_=a("97+O"),S=a("YdHu"),C=(a("212T"),a("9kvl")),I=5,R=function(e){var t=e.element,a=e.children,n=e.pageUsers,r=Object(d["useState"])([]),i=Object(l["a"])(r,2),o=i[0],s=i[1],u=Object(d["useRef"])(null),f=Object(d["useState"])(""),v=Object(l["a"])(f,2),p=v[0],b=v[1],h=Object(d["useState"])([]),y=Object(l["a"])(h,2),O=y[0],w=y[1],j=Object(d["useState"])(0),k=Object(l["a"])(j,2),N=k[0],x=k[1],C=Object(d["useState"])(!1),R=Object(l["a"])(C,2),T=R[0],D=R[1];Object(d["useEffect"])((function(){if(t)return t.addEventListener("input",L),function(){t.removeEventListener("input",L)}}),[t]),Object(d["useEffect"])((function(){var e=n[window.location.pathname];w(Object(g["uniqBy"])(e?[].concat(Object(c["a"])(e),Object(c["a"])(o)):Object(c["a"])(o),"id"))}),[n,o,p]);var L=function(){var e=t.value,a=t.selectionStart,n=void 0===a?0:a;if(e.indexOf("@")<0&&b(""),n){var r=e.substring(e.substring(0,n).lastIndexOf("@"),n);r.substring(r.lastIndexOf(" "),n).indexOf("@")<0||(b(r.substring(1)),r.substring(1)&&(T||(D(!0),Object(E["Hd"])().then((function(e){s(e)})))))}},B=function(e){var a=t.value,n=t.selectionStart,r=void 0===n?0:n;if(r){var i=a.substring(a.substring(0,r).lastIndexOf("@"),r),o="@".concat(null===e||void 0===e?void 0:e.name,"[").concat(null===e||void 0===e?void 0:e.slug,"] ");t.value="".concat(a.substring(0,a.substring(0,r).lastIndexOf("@"))).concat(o).concat(a.substring(r)),w([]),b("");var c=r+o.length-i.length;t.setSelectionRange(c,c),t.focus()}},A=p?O.filter((function(e){return 0===e.name.indexOf(p)||0===e.slug.indexOf(p)})):[],P=function(e){var t=e.keyCode;if(38===t&&N>0&&(e.preventDefault(),x(N-1)),40===t&&N<A.length-1&&(e.preventDefault(),x(N+1)),13===t&&N>-1&&N<=A.length-1){e.preventDefault();var a=A[N];B(a),x(0)}};return m.a.createElement(_["a"],{className:"mentions-wrap",show:A.length>0,onKeyDown:P},a,m.a.createElement(_["a"].Toggle,{as:S["a"],domType:"div",id:"mentions-toggle"}),m.a.createElement(_["a"].Menu,{className:A.length>0?"visabled":"hidden",ref:u},A.filter((function(e,t){return t<I})).map((function(e,t){return m.a.createElement(_["a"].Item,{className:"".concat(N===t?"bg-gray-200":""),key:t,onClick:function(){return B(e)}},m.a.createElement("img",{className:"avatar-24 me-2",src:e.avatar_url||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07"}),m.a.createElement("span",{className:"text-body me-1"},e.name),m.a.createElement("small",{className:"text-secondary"},"@",e.slug))}))))},T=Object(C["b"])((function(e){var t=e.global;return{pageUsers:t.pageUsers}}))(m.a.memo(R)),D=!0,L=function(e){var t=e.item,a=e.parentItem,n=e.onChangeOfComment,r=e.onComment,i=e.className,c=e.onEditComment,s=Object(d["useState"])(!1),u=Object(l["a"])(s,2),f=u[0],v=u[1],p=Object(d["useRef"])(null),b=Object(d["useState"])({isInvalid:!1,msg:""}),g=Object(l["a"])(b,2),E=g[0],y=g[1];Object(d["useEffect"])((function(){if(null!==p&&void 0!==p&&p.current&&(h()(p.current),t.commentVal)){var e=t.commentVal.length;p.current.setSelectionRange(e,e)}}),[p]);var j=function(e){y(e)},k=function(e){var n=e.keyCode;13===n&&(e.ctrlKey||e.metaKey)&&D&&(D=!1,setTimeout((function(){D=!0}),700),r({item:t,parentItem:a,callback:j}))};return m.a.createElement(O["a"],{className:"card-body add-comment-form ".concat(i),onKeyDown:k},m.a.createElement(w["a"],{className:"mb-3"},m.a.createElement("small",{className:"text-secondary"},"\u56de\u590d"," ",m.a.createElement("a",{href:t.user.url,onClick:function(e){c(t,a||"",e)}},t.user.name," \xd7")),m.a.createElement(T,{element:p.current},m.a.createElement(O["a"].Control,{as:"textarea",value:t.commentVal,autoFocus:!0,ref:p,size:"sm",rows:1,onChange:function(e){a?n(Object(o["a"])(Object(o["a"])({},t),{},{commentVal:e.target.value}),a):n(Object(o["a"])(Object(o["a"])({},t),{},{commentVal:e.target.value}))},className:"form-control form-control-sm comment-reply mt-2",placeholder:"\u64b0\u5199\u8bc4\u8bba \u2026",isInvalid:E.isInvalid})),m.a.createElement(O["a"].Control.Feedback,{type:"invalid"},E.msg)),m.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},m.a.createElement("a",{href:"###",className:"me-3",onClick:function(e){e.preventDefault(),v(!f)},tabIndex:-1},m.a.createElement("i",{className:"far fa-info-circle text-secondary"})),m.a.createElement(x["a"],{size:"sm",className:"float-end",onClick:function(){return r({item:t,parentItem:a,callback:j})},disabled:!t.commentVal},"\u63d0\u4ea4\u8bc4\u8bba")),m.a.createElement(N["a"],{show:f,variant:"info",className:"mt-3 my-0 font-size-14"},"\u8bc4\u8bba\u652f\u6301\u90e8\u5206 Markdown \u8bed\u6cd5\uff1a",m.a.createElement("code",null,"**\u7c97\u4f53** _\u659c\u4f53_ [\u94fe\u63a5](http://example.com) `\u4ee3\u7801` - \u5217\u8868 > \u5f15\u7528"),"\u3002\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 ",m.a.createElement("code",null,"@ "),"\u6765\u901a\u77e5\u5176\u4ed6\u7528\u6237\u3002"))},B=m.a.memo(L),A=a("6Yt9"),P=(a("9cdK"),a("0lfv")),M=!0,z=function(e){var t=e.commentContent,a=e.isShowComment,n=e.inputRef,r=e.setCommentContent,i=e.onComment,o=e.sessionUser,c=Object(d["useState"])(!1),s=Object(l["a"])(c,2),u=s[0],v=s[1],p=Object(d["useState"])({isInvalid:!1,msg:""}),b=Object(l["a"])(p,2),h=b[0],g=b[1];Object(d["useEffect"])((function(){a&&n.current.focus()}),[a]);var E=function(e){g(e)},y=function(e){var t=e.keyCode;13===t&&(e.ctrlKey||e.metaKey)&&M&&(M=!1,setTimeout((function(){M=!0}),700),i({item:"comment",callback:E}))};return m.a.createElement(f["a"],{className:"bg-light border-0 mt-2 ".concat(a?"":"hidden"),onKeyDown:y,tabIndex:2},m.a.createElement(f["a"].Body,null,m.a.createElement("div",{className:"media-body"},m.a.createElement(w["a"],{className:"mb-3"},m.a.createElement(T,{element:n.current},m.a.createElement(O["a"].Control,{as:"textarea",rows:1,ref:n,value:t,size:"sm",onChange:function(e){r(e.target.value)},className:"comment-text",placeholder:"\u8be2\u95ee\u7ec6\u8282\u6216\u63d0\u51fa\u4fee\u6539\u610f\u89c1",onFocus:function(e){o||(e.preventDefault(),Object(A["c"])(),n.current.blur())},isInvalid:h.isInvalid})),m.a.createElement(O["a"].Control.Feedback,{type:"invalid"},h.msg)),m.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},m.a.createElement("small",{className:"text-secondary"},"\u5982\u679c\u5bf9\u4f60\u6709\u5e2e\u52a9\uff0c\u8bb0\u5f97\u70b9\u8d5e\u652f\u6301"),m.a.createElement("div",{className:"sflex-center"},m.a.createElement("a",{href:"###",className:"me-3",onClick:function(e){e.preventDefault(),v(!u)},"aria-label":"\u63d0\u793a",tabIndex:-1},m.a.createElement("i",{className:"far fa-info-circle text-secondary"})),m.a.createElement(x["a"],{size:"sm",className:"float-end",onClick:function(){return i({item:"comment",callback:E})},disabled:!t},"\u63d0\u4ea4\u8bc4\u8bba")))),m.a.createElement(N["a"],{show:u,variant:"info",className:"mt-3 my-0 font-size-14"},"\u8bc4\u8bba\u652f\u6301\u90e8\u5206 Markdown \u8bed\u6cd5\uff1a",m.a.createElement("code",null,"**\u7c97\u4f53** _\u659c\u4f53_ [\u94fe\u63a5](http://example.com) `\u4ee3\u7801` - \u5217\u8868 > \u5f15\u7528"),"\u3002\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 ",m.a.createElement("code",null,"@ "),"\u6765\u901a\u77e5\u5176\u4ed6\u7528\u6237\u3002")))},H=Object(C["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(m.a.memo(z)),F=a("pJDg"),q=a("cWnB"),U=function(e){var t=e.allTotal,a=e.sort,n=e.setSort,r=e.aId;return m.a.createElement(f["a"].Header,{className:"d-flex align-items-center justify-content-between bg-transparent"},m.a.createElement("strong",null,t," \u6761\u8bc4\u8bba"),m.a.createElement(F["a"],{"aria-label":"Basic"},m.a.createElement(q["a"],{as:"a",href:"/a/".concat(r,"?sort=votes"),size:"sm",variant:"votes"===a?"secondary":"outline-secondary",onClick:function(e){e.preventDefault(),n("votes")}},"\u5f97\u7968\u6570"),m.a.createElement(q["a"],{as:"a",href:"/a/".concat(r,"?sort=newest"),size:"sm",variant:"newest"===a?"secondary":"outline-secondary",onClick:function(e){e.preventDefault(),n("newest")}},"\u6700\u65b0")))},Y=m.a.memo(U),V=!0,W=function(e){var t,a=e.commentContent,n=e.inputRef,r=e.setCommentContent,i=e.onComment,o=e.sessionUser,c=Object(d["useState"])(!1),s=Object(l["a"])(c,2),u=s[0],f=s[1],v=Object(d["useState"])({isInvalid:!1,msg:""}),p=Object(l["a"])(v,2),b=p[0],h=p[1],g=function(e){h(e)},E=function(e){var t=e.keyCode;13===t&&(e.ctrlKey||e.metaKey)&&V&&a&&(V=!1,setTimeout((function(){V=!0}),700),i({item:"comment",callback:g}))};return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"mb-4 media",onKeyDown:E,tabIndex:1},m.a.createElement("img",{src:(null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",className:"rounded-circle me-3",width:"38",height:"38","aria-hidden":"true"}),m.a.createElement("div",{className:"media-body"},m.a.createElement(w["a"],{className:"mb-3"},m.a.createElement(T,{element:n.current},m.a.createElement(O["a"].Control,{as:"textarea",rows:1,ref:n,value:a,onChange:function(e){r(e.target.value)},className:"comment-text",placeholder:"\u64b0\u5199\u8bc4\u8bba \u2026",onFocus:function(e){o||(e.preventDefault(),Object(A["c"])(),n.current.blur())},"aria-label":"\u8bc4\u8bba",isInvalid:b.isInvalid})),m.a.createElement(O["a"].Control.Feedback,{type:"invalid"},b.msg)),m.a.createElement("div",{className:"d-flex justify-content-end align-items-center"},m.a.createElement("a",{href:"###",className:"me-3",onClick:function(e){e.preventDefault(),f(!u)},"aria-label":"\u63d0\u793a",tabIndex:-1},m.a.createElement("i",{className:"far fa-info-circle text-secondary"})),m.a.createElement(x["a"],{className:"float-end",onClick:function(){return i({item:"comment",callback:g})},disabled:!a},"\u63d0\u4ea4\u8bc4\u8bba")),m.a.createElement(N["a"],{show:u,variant:"info",className:"mt-3 my-0 font-size-14"},"\u8bc4\u8bba\u652f\u6301\u90e8\u5206 Markdown \u8bed\u6cd5\uff1a",m.a.createElement("code",null,"**\u7c97\u4f53** _\u659c\u4f53_ [\u94fe\u63a5](http://example.com) `\u4ee3\u7801` - \u5217\u8868 > \u5f15\u7528"),"\u3002\u4f60\u8fd8\u53ef\u4ee5\u4f7f\u7528 ",m.a.createElement("code",null,"@ "),"\u6765\u901a\u77e5\u5176\u4ed6\u7528\u6237\u3002"))))},K=Object(C["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(m.a.memo(W)),$=a("zhAr"),J=15,G=function(e){var t=e.total,a=e.page,n=e.getData,r=function(){var e=document.getElementById("comment-area"),t=-65,a=e.getBoundingClientRect().top+window.pageYOffset+t;window.scrollTo({top:a})},i=function(e){n(e),r()};return m.a.createElement("div",{className:"d-flex justify-content-center mt-4 mb-1"},m.a.createElement($["a"],{size:"sm",className:"mb-0"},m.a.createElement($["a"].Item,{disabled:1===a,onClick:function(){return i(a-1)}},"\u4e0a\u4e00\u9875"),Object(c["a"])(Array(Math.ceil(t/J))).map((function(){return 0})).map((function(e,t){return m.a.createElement($["a"].Item,{key:"page".concat(t),active:a===t+1,onClick:function(){return i(t+1)}},t+1)})),m.a.createElement($["a"].Item,{disabled:a===Object(c["a"])(Array(Math.ceil(t/J))).map((function(){return 0})).length,onClick:function(){return i(a+1)}},"\u4e0b\u4e00\u9875")))},Q=Object(C["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(m.a.memo(G)),Z=function(e){var t,a,n=e.sessionUser,r=e.item,i=e.onEditComment,o=e.onEdit,c=e.onRemove,s=e.onReport,u=Object(d["useState"])(r.is_liked),f=Object(l["a"])(u,2),v=f[0],p=f[1],b=Object(d["useState"])(r.votes),h=Object(l["a"])(b,2),g=h[0],y=h[1],O=function(e,t){t.preventDefault(),Object(A["c"])()&&Object(E["L"])({id:e.id,is_like:e.is_liked?0:1}).then((function(){y(v?g-1:g+1),p(!v)}))},w=(null===(t=r.member_actions)||void 0===t?void 0:t.filter((function(e){return"edit"===e.action})).length)>0,j=(null===(a=r.member_actions)||void 0===a?void 0:a.filter((function(e){return"delete"===e.action})).length)>0;return m.a.createElement("div",{className:"handle-bar font-size-14 d-flex justify-content-between"},m.a.createElement("div",null,m.a.createElement("a",{className:"text-secondary",href:"###",onClick:function(e){return O(r,e)}},m.a.createElement("span",{className:"mainLike-comment ".concat(v?"text-primary":"")},m.a.createElement("i",{className:"fa-w-16 ".concat(v?"fas fa-thumbs-up":"far fa-thumbs-up"),style:{width:"1em"}})),g>0&&m.a.createElement("span",{className:"mainLike-commentNum ms-1"},g)),m.a.createElement("span",{className:"split-dot"}),m.a.createElement("a",{className:"text-secondary btn-comment",href:"###",onClick:function(e){i(r,"",e)}},"\u56de\u590d"),m.a.createElement("span",{className:"split-dot"}),m.a.createElement("span",{className:"text-secondary"},Object(P["d"])(r.created))),m.a.createElement("div",{className:"control-area d-none"},n&&w&&m.a.createElement(m.a.Fragment,null,m.a.createElement("a",{className:"text-secondary edit",href:"###",onClick:function(e){e.preventDefault(),o(r)}},"\u7f16\u8f91"),m.a.createElement("span",{className:"split-dot"})),n&&j&&m.a.createElement(m.a.Fragment,null,m.a.createElement("a",{className:"text-secondary delete",href:"###",onClick:function(e){return c(r.id,e)}},"\u5220\u9664"),m.a.createElement("span",{className:"split-dot"})),n&&m.a.createElement("a",{className:"text-secondary comment-report",href:"###",onClick:function(e){return s(r,e)}},"\u4e3e\u62a5")))},X=Object(C["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(m.a.memo(Z)),ee=function(e){var t,a,n=e.sessionUser,r=e.item,i=e.subItem,o=e.onEditComment,c=e.onEdit,s=e.onRemove,u=e.onReport,f=Object(d["useState"])(i.is_liked),v=Object(l["a"])(f,2),p=v[0],b=v[1],h=Object(d["useState"])(i.votes),g=Object(l["a"])(h,2),y=g[0],O=g[1],w=function(e,t){t.preventDefault(),Object(A["c"])()&&Object(E["L"])({id:e.id,is_like:e.is_liked?0:1}).then((function(){O(p?y-1:y+1),b(!p)}))},j=(null===(t=i.member_actions)||void 0===t?void 0:t.filter((function(e){return"edit"===e.action})).length)>0,k=(null===(a=i.member_actions)||void 0===a?void 0:a.filter((function(e){return"delete"===e.action})).length)>0;return m.a.createElement("div",{className:"handle-bar font-size-14 d-flex justify-content-between"},m.a.createElement("div",null,m.a.createElement("a",{className:"text-secondary",href:"###",onClick:function(e){return w(i,e)}},m.a.createElement("span",{className:"mainLike-comment ".concat(p?"text-primary":"")},m.a.createElement("i",{className:"fa-w-16 ".concat(p?"fas fa-thumbs-up":"far fa-thumbs-up"),style:{width:"1em"}})),y>0&&m.a.createElement("span",{className:"mainLike-commentNum  ms-1"},y)),m.a.createElement("span",{className:"split-dot"}),m.a.createElement("a",{className:"text-secondary btn-reply",href:"###",onClick:function(e){o(i,r,e)}},"\u56de\u590d"),m.a.createElement("span",{className:"split-dot"}),m.a.createElement("span",{className:"text-secondary"},Object(P["d"])(i.created))),m.a.createElement("div",{className:"comment-control-area d-none"},n&&j&&m.a.createElement(m.a.Fragment,null,m.a.createElement("a",{className:"text-secondary edit",href:"###",onClick:function(e){e.preventDefault(),c(i,r)}},"\u7f16\u8f91"),m.a.createElement("span",{className:"split-dot"})),n&&k&&m.a.createElement(m.a.Fragment,null,m.a.createElement("a",{className:"text-secondary delete",href:"###",onClick:function(e){return s(i.id,e)}},"\u5220\u9664"),m.a.createElement("span",{className:"split-dot"})),n&&m.a.createElement("a",{className:"text-secondary reply-report",href:"###",onClick:function(e){return u(i,e)}},"\u4e3e\u62a5")))},te=Object(C["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(m.a.memo(ee)),ae=a("Ty5D"),ne="",re=["question","answer"],ie=15,oe=3,ce=function(e){var t=e.id,a=e.mode,s=void 0===a?"article":a,b=e.isShowComment,O=void 0!==b&&b,w=e.setCommentState,j=e.event_object,N=e.user,x=void 0===N?{}:N,_=e.isFetchComments,S=void 0===_||_,I=e.memberActions,R=void 0===I?[]:I,T=Object(d["useRef"])(null),D=Object(d["useState"])(""),L=Object(l["a"])(D,2),M=L[0],z=L[1],F=Object(C["f"])(),q=Object(ae["g"])(),U=q.location.query,V=void 0===U?{}:U;T.current&&(T.current.value=M);var W=Object(d["useState"])([]),$=Object(l["a"])(W,2),J=$[0],G=$[1],Z=Object(d["useState"])({isShow:!1,id:""}),ee=Object(l["a"])(Z,2),ce=ee[0],le=ee[1],se=Object(d["useState"])({page:1,init:!0}),ue=Object(l["a"])(se,2),de=ue[0],me=ue[1],fe=Object(d["useState"])(0),ve=Object(l["a"])(fe,2),pe=ve[0],be=ve[1],he=Object(d["useState"])(0),ge=Object(l["a"])(he,2),Ee=ge[0],ye=ge[1],Oe=Object(d["useState"])(V.sort||"votes"),we=Object(l["a"])(Oe,2),je=we[0],ke=we[1],Ne=Object(d["useState"])(!1),xe=Object(l["a"])(Ne,2),_e=xe[0],Se=xe[1],Ce=Object(d["useState"])(!1),Ie=Object(l["a"])(Ce,2),Re=Ie[0],Te=Ie[1],De=Object(d["useRef"])({}),Le=Object(d["useState"])(!1),Be=Object(l["a"])(Le,2),Ae=Be[0],Pe=Be[1];Object(d["useEffect"])((function(){T.current&&h()(T.current)}),[T]),Object(d["useEffect"])((function(){me({page:1,init:!0})}),[t]),Object(d["useEffect"])((function(){1===de.page&&!0===de.init&&S&&ze()}),[de,S]),Object(d["useEffect"])((function(){Ae?me({page:1,init:!0}):Pe(!0)}),[je]),Object(d["useEffect"])((function(){_e&&(J.map((function(e){return e.hidden=!1,e})),G(Object(g["orderBy"])(J,["created"])))}),[_e]),Object(d["useEffect"])((function(){if(!Object(g["isEmpty"])(J)&&!Object(g["isEmpty"])(j)&&t===j.root.object_id&&s===j.root.type&&t===j.root.object_id&&"comment"===j.current.type){var e,a,n,r=Object(g["findIndex"])(J,["id",Number((null===j||void 0===j||null===(e=j.current)||void 0===e?void 0:e.object_id)||0)]);if(r<0)J.forEach((function(e){a=[].concat(Object(c["a"])(a||[]),Object(c["a"])(e.replies||[]))})),r=Object(g["findIndex"])(a,["id",Number((null===j||void 0===j||null===(n=j.current)||void 0===n?void 0:n.object_id)||0)]);["question","answer"].includes(s)&&r>oe-1&&(J.splice(r,1),G([j.current.comment].concat(Object(c["a"])(J)))),-1===r&&G([j.current.comment].concat(Object(c["a"])(J)))}}),[J,j]),Object(d["useEffect"])((function(){F({type:"global/pushPageUser",payload:{pathName:window.location.pathname,users:J.map((function(e){return null===e||void 0===e?void 0:e.user}))}})}),[J]);var Me=function(e){var a=e.item,n=e.parentItem,r=e.callback;return new Promise((function(e,i){if(Object(A["c"])()){var l,u,d={};if(n)d={reply_comment_id:n.id,reply_user_id:null===(l=a.user)||void 0===l?void 0:l.id};else if(null!==a&&void 0!==a&&a.isReply)d={reply_comment_id:a.reply_comment_id||a.id,reply_user_id:null===(u=a.user)||void 0===u?void 0:u.id};a.id&&!a.isReply&&a.isEdit?Object(E["he"])(Object(o["a"])(Object(o["a"])({id:a.id,object_id:t},d),{},{text:null===a||void 0===a?void 0:a.original_text})).then((function(e){G(n?J.map((function(t){return(null===t||void 0===t?void 0:t.id)===n.id&&(null===t||void 0===t||t.replies.forEach((function(t){t.id===e.id&&(t.isEdit=!1,t.parsed_text=e.parsed_text)}))),t})):J.map((function(t){return t.id===e.id&&(t.parsed_text=null===e||void 0===e?void 0:e.parsed_text,t.isEdit=!1),t}))),"function"===typeof w&&w(!1)}))["finally"]((function(){e(!0)})):Object(E["K"])(Object(o["a"])(Object(o["a"])({object_id:t},d),{},{text:(null===a||void 0===a?void 0:a.commentVal)||M})).then((function(e){if("function"===typeof r&&r({isInvalid:!1,msg:""}),"string"===typeof a?z(""):G(J.map((function(e){return n?e.id===n.id&&e.replies.forEach((function(e){e.id===a.id&&(e.isReply=!1)})):e.id===a.id&&(e.isReply=!1,e.commentVal=""),e}))),"article"===s&&"string"!==typeof a)G(J.map((function(t){if(n){if(t.id===n.id){var r=Object(g["findIndex"])(t.replies,{id:a.id});t.replies.splice(r+1,0,e.comment)}}else t.id===a.id&&(Object(g["isEmpty"])(t.replies)?t.replies=[e.comment]:t.replies.unshift(e.comment));return t})));else if("string"!==typeof a){var t=Object(g["findIndex"])(J,{id:a.id});J.splice(t+1,0,e.comment),G(J)}else G([e.comment].concat(Object(c["a"])(J)));"function"===typeof w&&w(!1)}))["catch"]((function(e){null!==e&&void 0!==e&&e.isError&&"function"===typeof r&&r({isInvalid:!0,msg:e.reply_comment_id||e.text})}))["finally"]((function(){e(!0)}))}else i(!1)}))},ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=e.commentId,n=void 0===a?"":a,r=e.commentPage,c=void 0===r?1:r,l=c;n?de[n]?(de[n].page+=1,me(Object(o["a"])(Object(o["a"])({},de),{},{init:!1})),l=de[n].page):me(Object(o["a"])(Object(o["a"])(Object(o["a"])({},de),Object(i["a"])({},n,{page:1})),{},{init:!1})):me(Object(o["a"])(Object(o["a"])({},de),{},{page:c,init:!1})),Object(E["Gb"])({objectId:t,commentId:n,page:l,sort:je,is_direct:"article"===s?0:1}).then((function(e){e&&He({commentId:n,res:e,page:l})}))},He=function(e){var t=e.commentId,a=e.res,n=e.page;if(t){var r=J.map((function(e){return e.id===t&&(e.replies=Object(g["orderBy"])(1===n?a.comments:[].concat(Object(c["a"])(e.replies),Object(c["a"])(a.comments)),["created"])),e}));G(Object(g["uniqBy"])(r,"id")||[])}else 1===n&&(be(a.total),ye(a.all_total)),!_e&&re.includes(s)&&(a.comments=Object(g["orderBy"])(a.comments,["votes"],["desc"]).map((function(e,t){return e.hidden=t>oe-1,e}))),G("article"===s?Object(g["uniqBy"])(a.comments,"id")||[]:(1===n?Object(g["orderBy"])(Object(g["uniqBy"])(a.comments,"id"),["created"]):Object(g["orderBy"])(Object(g["uniqBy"])([].concat(Object(c["a"])(J),Object(c["a"])(a.comments)),"id"),["created"]))||[])},Fe=function(e,t,a){var n;a.preventDefault(),n=t?J.map((function(a){return a.id===t.id&&(a.replies=a.replies.map((function(t){return t.id===e.id&&(t.isReply=!t.isReply,t.isEdit=!1),t}))),a})):J.map((function(t){return t.id===e.id&&(t.isReply=!t.isReply,t.isEdit=!1),t})),G(n)},qe=function(e,t){var a;a="object"===typeof t?J.map((function(a){return a.id===(null===t||void 0===t?void 0:t.id)&&(a.replies=a.replies.map((function(t){return t.id===e.id&&(t=e),t}))),a})):J.map((function(t){return t.id===e.id&&(t=e),t})),G(a)},Ue=function(e,t){t.preventDefault(),le({id:e.id,isShow:!0})},Ye=function(e){le(Object(o["a"])(Object(o["a"])({},ce),{},{isShow:e}))},Ve=function(e,t){var a;a=t?J.map((function(a){return a.id===t.id&&(a.replies=a.replies.map((function(t){return t.id===e.id&&(t.isEdit=!t.isEdit,t.isReply=!1),t}))),a})):J.map((function(t){return t.id===e.id&&(t.isEdit=!t.isEdit,t.isReply=!1),t})),G(a)},We=function(e,t){t.preventDefault(),y["v"].confirm({title:"\u5220\u9664\u8bc4\u8bba",content:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u8bc4\u8bba\u5417",onSuccess:function(){var t=Object(r["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(E["X"])(e);case 2:ze();case 3:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()})};Object(d["useEffect"])((function(){if(!Re&&!Object(g["isEmpty"])(De.current)&&ne&&Ke(ne)){var e=De.current[ne];e&&Object(P["k"])(e),Te(!0)}}));var Ke=Object(d["useCallback"])((function(e){var a=Object(P["h"])({eventObj:j,id:e,type:"comment",parentId:t});return a&&(ne=e),a}),[j]),$e=pe-(_e?null===de||void 0===de?void 0:de.page:0)*ie,Je=J.filter((function(e){return!(null!==e&&void 0!==e&&e.hidden)}));return m.a.createElement("div",null,("question"===s||"answer"===s)&&m.a.createElement(H,{commentContent:M,isShowComment:O,inputRef:T,setCommentContent:z,onComment:Me,id:t}),m.a.createElement(f["a"],{id:"comment-area",className:"comment-wrap ".concat("article"===s?"":0===J.length?"hidden":"bg-light border-0 mt-2")},"article"===s&&m.a.createElement(Y,{allTotal:Ee,sort:je,setSort:ke,aId:t}),m.a.createElement(f["a"].Body,{className:"article"===s?"":"p-3"},"article"===s&&m.a.createElement(K,{commentContent:M,inputRef:T,setCommentContent:z,onComment:Me,id:t}),m.a.createElement("div",{className:"comment-body-wrap ".concat(J.filter((function(e){return!e.hidden})).length<1&&"d-none")},Je.map((function(e,a){var n,r,i,o,c,l,u,d,b=e.parsed_text,h=e.reply_user;return Object(g["isEmpty"])(h)||b.includes('<a href="'.concat(h.url,'">@').concat(h.name,"</a>"))||(b=b.replace(/^<p>/,'<p><a href="'.concat(h.url,'">@').concat(h.name,"</a> "))),m.a.createElement("div",{ref:function(t){return De.current[e.id]=t},key:e.id,className:"mb-r media d-flex align-items-start ".concat(Je.length!==a+1&&("article"===s?"mb-4":"mb-3"))},"article"===s&&m.a.createElement("img",{className:"d-block rounded-circle me-3",width:"38",height:"38",src:(null===(n=e.user)||void 0===n?void 0:n.avatar_url)||"https://image-static.segmentfault.com/317/931/3179314346-5f61e47221e07",alt:""}),m.a.createElement("div",{className:"w-0 media-body ".concat(Ke(e.id)?"scroll-warning":"")},m.a.createElement("div",{className:"commentUnit ".concat("question"===s||"answer"===s?"font-size-14":"")},m.a.createElement("div",{className:"mb-1"},m.a.createElement("a",{className:"d-uname",href:null===(r=e.user)||void 0===r?void 0:r.url,rel:"noreferrer",target:"_blank"},m.a.createElement("strong",null,null===(i=e.user)||void 0===i?void 0:i.name),"article"===s&&(null===(o=e.user)||void 0===o?void 0:o.id)===(null===x||void 0===x?void 0:x.id)&&m.a.createElement("span",{className:"text-secondary"},"\uff08\u4f5c\u8005\uff09")),"\uff1a",!e.isEdit&&m.a.createElement("div",{className:"parsedText fmt",dangerouslySetInnerHTML:{__html:b}})),e.isEdit&&m.a.createElement(k,{onChangeOfComment:qe,item:e,onComment:Me}),m.a.createElement(X,{item:e,onEditComment:Fe,onEdit:Ve,onRemove:We,onReport:Ue,memberActions:R}),e.isReply&&m.a.createElement(f["a"],{className:"bg-light border-0 mt-2"},m.a.createElement(B,{id:t,className:"".concat("question"===s||"answer"==s?"p-0":"p-3"),onChangeOfComment:qe,item:e,onComment:Me,onEditComment:Fe}))),m.a.createElement("div",{className:"replies ".concat(Object(g["isEmpty"])(e.replies)?"hidden":"")},m.a.createElement(f["a"],{className:"bg-light border-0 mt-2"},m.a.createElement(f["a"].Body,{className:"p-3"},m.a.createElement(v["a"],{className:"reply-list"},null===(c=e.replies)||void 0===c?void 0:c.map((function(a,n){var r,i,o,c=a.parsed_text,l=a.reply_user;return Object(g["isEmpty"])(l)||c.includes('<a href="'.concat(l.url,'">@').concat(l.name,"</a>"))||(c=c.replace(/^<p>/,'<p><a href="'.concat(l.url,'">@').concat(l.name,"</a> "))),m.a.createElement(p["a"],{key:a.id,ref:function(e){return De.current[a.id]=e},className:"p-0 border-0 commentUnit ".concat(e.replies.length!==n+1&&"mb-3"," ").concat(Ke(a.id)?"scroll-warning":""," ")},m.a.createElement("div",{className:"font-size-14 mb-1"},m.a.createElement("a",{className:"d-uname",href:null===(r=a.user)||void 0===r?void 0:r.url,target:"_blank",rel:"noreferrer"},m.a.createElement("strong",null,null===(i=a.user)||void 0===i?void 0:i.name),"article"===s&&(null===(o=a.user)||void 0===o?void 0:o.id)===(null===x||void 0===x?void 0:x.id)&&m.a.createElement("span",{className:"text-secondary"},"\uff08\u4f5c\u8005\uff09")),"\uff1a",!a.isEdit&&m.a.createElement("div",{className:"parsedText fmt",dangerouslySetInnerHTML:{__html:c}})),a.isEdit&&m.a.createElement(k,{isChild:!0,onChangeOfComment:qe,item:a,parentItem:e,onComment:Me}),m.a.createElement(te,{item:e,subItem:a,onEditComment:Fe,onEdit:Ve,onRemove:We,onReport:Ue}),a.isReply&&m.a.createElement(f["a"],{className:"bg-light border-0 mt-2"},m.a.createElement(B,{id:t,onChangeOfComment:qe,item:a,onComment:Me,parentItem:e,className:"p-0",onEditComment:Fe})))}))),e.replies&&e.replies_total>e.replies.length&&e.replies_total-((null===(l=de[e.id])||void 0===l?void 0:l.page)||0)*ie>0&&m.a.createElement("div",{className:"font-size-14 d-flex mt-3"},m.a.createElement("a",{className:"text-secondary next-page-btn",href:"###",onClick:function(t){t.preventDefault(),ze({commentId:e.id})}},e.replies_total<ie?"\u5171 ".concat(e.replies_total," \u6761\u56de\u590d"):"\u66f4\u591a ".concat(ie>e.replies_total-((null===(u=de[e.id])||void 0===u?void 0:u.page)||0)*ie?e.replies_total-((null===(d=de[e.id])||void 0===d?void 0:d.page)||0)*ie:ie," \u6761\u56de\u590d"))))))))}))),"article"===s?pe>ie&&m.a.createElement(Q,{total:pe,page:de.page,getData:function(e){return ze({commentPage:e})}}):pe>oe&&$e>0&&m.a.createElement("div",{className:"font-size-14 d-flex mt-3"},m.a.createElement("a",{className:"text-secondary next-page-btn",href:"###",onClick:function(e){e.preventDefault(),_e?ze({commentPage:de.page+1}):Se(!0)}},pe<ie?"\u5171 ".concat(pe," \u6761\u8bc4\u8bba"):"\u66f4\u591a ".concat(ie>$e?$e:ie," \u6761\u8bc4\u8bba"))))),m.a.createElement(y["q"],Object(n["a"])({},ce,{setModalStatus:Ye})))};t["a"]=m.a.memo(ce)},d2ag:function(e,t,a){"use strict";function n(e){var t=Object.entries(e).filter((function(e){var t=e[1];return void 0!==t&&null!==t})).map((function(e){var t=e[0],a=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(String(a))}));return t.length>0?"?"+t.join("&"):""}a.d(t,"a",(function(){return n}))},dDCJ:function(e,t,a){"use strict";function n(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var r=a("q1tI"),i=a("Vhrh"),o=(a("2W6z"),a("y8DL")),c=a("lcWJ"),l=a("TSYQ"),s=a.n(l),u=a("i8i4"),d=a.n(u),m=a("4Ruw"),f=a("CVnW"),v=a("5Zum"),p=a("URn/"),b=a("qXAy"),h=a("Njkg"),g=a("nKUr");const E=r["forwardRef"](((e,t)=>{const{flip:a,offset:n,placement:i,containerPadding:o,popperConfig:c={},transition:l}=e,[s,u]=Object(m["a"])(),[E,y]=Object(m["a"])(),O=Object(f["a"])(u,t),w=Object(b["a"])(e.container),j=Object(b["a"])(e.target),[k,N]=Object(r["useState"])(!e.show),x=Object(v["a"])(j,s,Object(h["a"])({placement:i,enableEvents:!!e.show,containerPadding:o||5,flip:a,offset:n,arrowElement:E,popperConfig:c}));e.show?k&&N(!1):e.transition||k||N(!0);const _=(...t)=>{N(!0),e.onExited&&e.onExited(...t)},S=e.show||l&&!k;if(Object(p["a"])(s,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!S)return null;let C=e.children(Object.assign({},x.attributes.popper,{style:x.styles.popper,ref:O}),{popper:x,placement:i,show:!!e.show,arrowProps:Object.assign({},x.attributes.arrow,{style:x.styles.arrow,ref:y})});if(l){const{onExit:t,onExiting:a,onEnter:n,onEntering:r,onEntered:i}=e;C=Object(g["jsx"])(l,{in:e.show,appear:!0,onExit:t,onExiting:a,onExited:_,onEnter:n,onEntering:r,onEntered:i,children:C})}return w?d.a.createPortal(C,w):null}));E.displayName="Overlay";var y=E,O=a("0/2U"),w=a("vUet"),j=a("9vsu");function k(){const e=Object(r["useRef"])(null),t=Object(w["a"])(void 0,"popover"),a=Object(r["useMemo"])((()=>({name:"offset",options:{offset:()=>e.current&&Object(O["a"])(e.current,t)?j["a"].POPPER_OFFSET:[0,0]}})),[t]);return[e,[a]]}var N=a("7xGa"),x=a("qQzs");const _={transition:N["a"],rootClose:!1,show:!1,placement:"top"};function S(e,t){const{ref:a}=e,{ref:n}=t;e.ref=a.__wrapped||(a.__wrapped=e=>a(Object(x["a"])(e))),t.ref=n.__wrapped||(n.__wrapped=e=>n(Object(x["a"])(e)))}const C=r["forwardRef"]((({children:e,transition:t,popperConfig:a={},...n},i)=>{const o=Object(r["useRef"])({}),[l,u]=k(),d=Object(c["a"])(i,l),m=!0===t?N["a"]:t||void 0;return Object(g["jsx"])(y,{...n,ref:d,popperConfig:{...a,modifiers:u.concat(a.modifiers||[])},transition:m,children:(a,{arrowProps:n,placement:i,popper:c,show:l})=>{var u,d;S(a,n);const m=Object.assign(o.current,{state:null==c?void 0:c.state,scheduleUpdate:null==c?void 0:c.update,placement:i,outOfBoundaries:(null==c||null==(u=c.state)||null==(d=u.modifiersData.hide)?void 0:d.isReferenceHidden)||!1});return"function"===typeof e?e({...a,placement:i,show:l,...!t&&l&&{className:"show"},popper:m,arrowProps:n}):r["cloneElement"](e,{...a,placement:i,arrowProps:n,popper:m,className:s()(e.props.className,!t&&l&&"show"),style:{...e.props.style,...a.style}})}})}));C.displayName="Overlay",C.defaultProps=_;var I=C;function R(e){return e&&"object"===typeof e?e:{show:e,hide:e}}function T(e,t,a){const[r]=t,i=r.currentTarget,o=r.relatedTarget||r.nativeEvent[a];o&&o===i||n(i,o)||e(...t)}const D={defaultShow:!1,trigger:["hover","focus"]};function L({trigger:e,overlay:t,children:a,popperConfig:n={},show:l,defaultShow:s=!1,onToggle:u,delay:d,placement:m,flip:f=m&&-1!==m.indexOf("auto"),...v}){const p=Object(r["useRef"])(null),b=Object(c["a"])(p,a.ref),h=Object(i["a"])(),E=Object(r["useRef"])(""),[y,O]=Object(o["b"])(l,s,u),w=R(d),{onFocus:j,onBlur:k,onClick:N}="function"!==typeof a?r["Children"].only(a).props:{},_=e=>{b(Object(x["a"])(e))},S=Object(r["useCallback"])((()=>{h.clear(),E.current="show",w.show?h.set((()=>{"show"===E.current&&O(!0)}),w.show):O(!0)}),[w.show,O,h]),C=Object(r["useCallback"])((()=>{h.clear(),E.current="hide",w.hide?h.set((()=>{"hide"===E.current&&O(!1)}),w.hide):O(!1)}),[w.hide,O,h]),D=Object(r["useCallback"])(((...e)=>{S(),null==j||j(...e)}),[S,j]),L=Object(r["useCallback"])(((...e)=>{C(),null==k||k(...e)}),[C,k]),B=Object(r["useCallback"])(((...e)=>{O(!y),null==N||N(...e)}),[N,O,y]),A=Object(r["useCallback"])(((...e)=>{T(S,e,"fromElement")}),[S]),P=Object(r["useCallback"])(((...e)=>{T(C,e,"toElement")}),[C]),M=null==e?[]:[].concat(e),z={ref:_};return-1!==M.indexOf("click")&&(z.onClick=B),-1!==M.indexOf("focus")&&(z.onFocus=D,z.onBlur=L),-1!==M.indexOf("hover")&&(z.onMouseOver=A,z.onMouseOut=P),Object(g["jsxs"])(g["Fragment"],{children:["function"===typeof a?a(z):Object(r["cloneElement"])(a,z),Object(g["jsx"])(I,{...v,show:y,onHide:C,flip:f,placement:m,popperConfig:n,target:p.current,children:t})]})}L.defaultProps=D;t["a"]=L},gZRy:function(e,t,a){},"hKI/":function(e,t,a){(function(t){var a="Expected a function",n=NaN,r="[object Symbol]",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,m=u||d||Function("return this")(),f=Object.prototype,v=f.toString,p=Math.max,b=Math.min,h=function(){return m.Date.now()};function g(e,t,n){var r,i,o,c,l,s,u=0,d=!1,m=!1,f=!0;if("function"!=typeof e)throw new TypeError(a);function v(t){var a=r,n=i;return r=i=void 0,u=t,c=e.apply(n,a),c}function g(e){return u=e,l=setTimeout(w,t),d?v(e):c}function E(e){var a=e-s,n=e-u,r=t-a;return m?b(r,o-n):r}function O(e){var a=e-s,n=e-u;return void 0===s||a>=t||a<0||m&&n>=o}function w(){var e=h();if(O(e))return k(e);l=setTimeout(w,E(e))}function k(e){return l=void 0,f&&r?v(e):(r=i=void 0,c)}function N(){void 0!==l&&clearTimeout(l),u=0,r=s=i=l=void 0}function x(){return void 0===l?c:k(h())}function _(){var e=h(),a=O(e);if(r=arguments,i=this,s=e,a){if(void 0===l)return g(s);if(m)return l=setTimeout(w,t),v(s)}return void 0===l&&(l=setTimeout(w,t)),c}return t=j(t)||0,y(n)&&(d=!!n.leading,m="maxWait"in n,o=m?p(j(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),_.cancel=N,_.flush=x,_}function E(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError(a);return y(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),g(e,t,{leading:r,maxWait:t,trailing:i})}function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function O(e){return!!e&&"object"==typeof e}function w(e){return"symbol"==typeof e||O(e)&&v.call(e)==r}function j(e){if("number"==typeof e)return e;if(w(e))return n;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var a=c.test(e);return a||l.test(e)?s(e.slice(2),a?2:8):o.test(e)?n:+e}e.exports=E}).call(this,a("IyRk"))},heTN:function(e,t,a){"use strict";var n=a("Hi3p"),r=a("q1tI"),i=a.n(r),o=function(e){var t=e.tags,a=void 0===t?[]:t,r=e.className,o=void 0===r?"":r,c=(null===a||void 0===a?void 0:a.length)>0?i.a.createElement("div",{className:"d-flex flex-wrap align-items-center ".concat(o)},i.a.createElement("div",{className:"m-n1"},a.map((function(e){return i.a.createElement(n["a"],{data:e,key:e.id})})))):null;return c};t["a"]=i.a.memo(o)},"iG+T":function(e,t,a){"use strict";var n=a("tJVT"),r=a("q1tI"),i=a.n(r),o=a("cWnB"),c=a("9kvl"),l=["\u4ee3\u7801\u5199\u5f97\u8d8a\u6025\uff0c\u7a0b\u5e8f\u8dd1\u5f97\u8d8a\u6162\u3002","\u5728\u5b58\u50a8\u65e5\u671f\u4e2d\u7684\u5e74\u4efd\u7684\u65f6\u5019\uff0c\u8bf7\u4f7f\u7528\u56db\u4f4d\u6570\u5b57\u3002","\u5982\u679c\u4f60\u53d1\u73b0\u7279\u6b8a\u60c5\u51b5\u592a\u591a\uff0c\u90a3\u4f60\u80af\u5b9a\u662f\u7528\u9519\u65b9\u6cd5\u4e86\u3002","\u7a0b\u5e8f\u9519\u8bef\u4e2d\uff0c80% \u662f\u8bed\u6cd5\u9519\u8bef\uff0c16% \u662f\u7b80\u5355\u7684\u903b\u8f91\u9519\u8bef\uff0c0.8% \u624d\u662f\u56f0\u96be\u7684\u95ee\u9898\u3002","\u4e1c\u897f\u6ca1\u574f\uff0c\u5c31\u522b\u4e71\u4fee\u3002","\u4e0d\u8981\u7ad9\u7740\u8c03\u8bd5\u7a0b\u5e8f\uff0c\u90a3\u4f1a\u4f7f\u5f97\u4f60\u7684\u8010\u5fc3\u51cf\u534a\uff0c\u4f60\u9700\u8981\u7684\u662f\u5168\u795e\u8d2f\u6ce8\u3002","\u6d4b\u8bd5\u53ea\u80fd\u8bc1\u660e\u7a0b\u5e8f\u6709\u9519\u8bef\uff0c\u800c\u4e0d\u80fd\u8bc1\u660e\u7a0b\u5e8f\u6ca1\u6709\u9519\u8bef\u3002","\u4fee\u6b63\u7a0b\u5e8f\u9519\u8bef\u7684\u7b2c\u4e00\u6b65\u662f\u8981\u590d\u73b0\u8fd9\u4e2a\u9519\u8bef\u3002","\u4e0d\u8981\u57fa\u4e8e\u60f3\u8c61\u5f00\u53d1\uff0c\u8981\u57fa\u4e8e\u539f\u578b\u5f00\u53d1\u3002","\u6211\u6ca1\u6709\u5199\u8fc7\u8bd7\uff0c\u4f46\u6709\u4eba\u8bf4\u6211\u5199\u8fc7\u7684\u4ee3\u7801\uff0c\u50cf\u8bd7\u4e00\u6837\u4f18\u96c5\u3002"];function s(e,t){var a,n,r=e.length,i=e.slice(0),o=r-t;while(r-- >o)n=Math.floor((r+1)*Math.random()),a=i[n],i[n]=i[r],i[r]=a;return i.slice(o)}var u=function(){var e=Object(r["useState"])(""),t=Object(n["a"])(e,2),a=t[0],u=t[1],d=Object(c["f"])(),m=function(){localStorage.setItem("referer",decodeURI(window.location.href)),d({type:"global/saveShowLoginState",payload:{isShowLogin:!0}})};return Object(r["useEffect"])((function(){u(s(l,1))}),[]),i.a.createElement("div",{className:"bg-white text-center border border-dark border-width-2 p-5 my-4 rounded"},i.a.createElement("div",{className:"h1"},"\u4f60\u77e5\u9053\u5417\uff1f"),i.a.createElement("p",{className:"my-4",style:{fontSize:"1.25rem"}},a),i.a.createElement(o["a"],{style:{width:"178px"},size:"lg",onClick:m},"\u6ce8\u518c\u767b\u5f55"))};t["a"]=i.a.memo(u)},kUPb:function(e,t,a){"use strict";var n=a("tJVT"),r=a("q1tI"),i=a.n(r),o=a("9vsu"),c=a("pJDg"),l=a("cWnB"),s=a("dDCJ"),u=a("97+O"),d=a("YdHu"),m=a("24g8"),f=a("QeUd"),v=a("aWbt"),p=a("Dp36"),b=a("wFk/"),h=a("6Yt9"),g=a("0FX9"),E=a.n(g),y=a("9kvl"),O=a("tSvB"),w=function(e){var t=e.id,a=e.isLiked,g=void 0!==a&&a,y=e.votes,w=void 0===y?0:y,j=e.bookmarks,k=void 0===j?0:j,N=e.isBookmarked,x=void 0!==N&&N,_=e.title,S=void 0===_?"":_,C=e.banner,I=void 0===C?"":C,R=e.dispatch,T=e.showShare,D=void 0!==T&&T,L=e.source,B=e.showComment,A=void 0===B||B,P=e.isAuthor,M=void 0!==P&&P,z=e.sticky,H=void 0===z||z,F=e.style,q=void 0===F?{}:F,U=e.likeBtnSize,Y=void 0===U?"lg":U,V=e.isHated,W=void 0!==V&&V,K=e.showLikeBtn,$=void 0===K||K,J=e.showHateBtn,G=void 0!==J&&J,Q=e.showBookmarkBtn,Z=void 0===Q||Q,X=e.showShareBtn,ee=void 0===X||X,te=e.isNotHandle,ae=void 0===te?{like:!1,hate:!1,haveAccess:!1}:te,ne=Object(r["useState"])(w),re=Object(n["a"])(ne,2),ie=re[0],oe=re[1],ce=Object(r["useState"])(W),le=Object(n["a"])(ce,2),se=le[0],ue=le[1],de=Object(r["useState"])(k),me=Object(n["a"])(de,2),fe=me[0],ve=me[1],pe=Object(r["useState"])(g),be=Object(n["a"])(pe,2),he=be[0],ge=be[1],Ee=Object(r["useState"])(x),ye=Object(n["a"])(Ee,2),Oe=ye[0],we=ye[1],je=Object(r["useState"])(!1),ke=Object(n["a"])(je,2),Ne=ke[0],xe=ke[1],_e=Object(r["useState"])(""),Se=Object(n["a"])(_e,2),Ce=Se[0],Ie=Se[1],Re=Object(r["useState"])(""),Te=Object(n["a"])(Re,2),De=Te[0],Le=Te[1],Be=Object(r["useState"])(""),Ae=Object(n["a"])(Be,2),Pe=Ae[0],Me=Ae[1],ze=Object(r["useState"])(""),He=Object(n["a"])(ze,2),Fe=He[0],qe=He[1],Ue=Object(r["useState"])(!1),Ye=Object(n["a"])(Ue,2),Ve=Ye[0],We=Ye[1],Ke=Object(r["useRef"])(),$e=Object(r["useRef"])(),Je=Object(r["useRef"])();Object(r["useEffect"])((function(){ge(g),we(x),oe(w),ve(k),ue(W)}),[g,x,w,k,W]),Object(r["useEffect"])((function(){Ie("".concat(window.location.origin).concat(window.location.pathname)),Le("\u3010".concat(S,"\u3011\u5206\u4eab\u81ea @segment_fault\uff0c\u4f20\u9001\u95e8\uff1a")),Me("\u3010".concat(S,"\u3011\u5206\u4eab\u81ea @SegmentFault\uff0c\u4f20\u9001\u95e8\uff1a"))}),[Ce]),Object(r["useEffect"])((function(){if(!Fe){var e,t=null===(e=document)||void 0===e?void 0:e.querySelector(".qrcode");E.a.toCanvas(t,window.location.href,{margin:0},(function(e,t){qe(t.toDataURL())}))}}),[Fe]);var Ge=function(){Object(h["c"])()&&(ae.like?O["v"].confirm({content:"\u4e0d\u80fd\u7ed9\u81ea\u5df1\u70b9\u8d5e"}):!M||"article"!==L&&"video"!==L?"product-score"!==L||ae.haveAccess?(Object(p["zc"])({id:t,type:L,is_like:he?0:1}).then((function(e){"question"!==L&&"answer"!==L&&"product-score"!==L||oe(e.votes)})),"article"!==L&&"video"!==L||oe(he?ie-1:ie+1),ge(!he),se&&ue(!se),R({type:"action/saveLike",payload:{id:t,votes:he?ie-1:ie+1,isLiked:!he}})):R({type:"global/saveProductAuthModalState",payload:{isShow:!0,title:"\u70b9\u8d5e"}}):O["v"].confirm({content:"\u4f60\u662f\u4f5c\u8005\uff0c\u65e0\u6cd5\u5bf9\u81ea\u5df1\u8fdb\u884c\u6b64\u64cd\u4f5c"}))},Qe=function(){Object(h["c"])()&&xe(!0)},Ze=function(e){ve(e?fe+1:fe-1),we(e),R({type:"action/saveBookmark",payload:{id:t,bookmarks:e?fe+1:fe-1,bookmarkState:e}})},Xe=function(){Object(h["c"])()&&(ae.hate?O["v"].confirm({content:"\u4e0d\u80fd\u7ed9\u81ea\u5df1\u70b9\u8e29"}):"product-score"!==L||ae.haveAccess?(Object(p["oc"])({id:t,type:L,is_hate:se?0:1}).then((function(e){oe(e.votes)})),ue(!se),We(!se),he&&ge(!he)):R({type:"global/saveProductAuthModalState",payload:{isShow:!0,title:"\u70b9\u8e29"}}))},et=i.a.createElement(o["a"],{id:"popover-basic"},i.a.createElement(o["a"].Body,null,"\u5982\u679c\u8be5\u5185\u5bb9\u6709\u53ef\u6539\u8fdb\u7684\u4f59\u5730\uff0c\u6b22\u8fce\u901a\u8fc7\u8bc4\u8bba\u7ed9\u4f5c\u8005\u5efa\u8bae\u3002"));return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"sticky-wrap ".concat(H?"sticky-top":""," functional-area-left d-none d-xl-flex justify-content-center pt-5 ").concat("article"===L?"functional-area-left2":""),style:q},i.a.createElement(c["a"],{vertical:!0,className:"align-items-center"},$&&i.a.createElement(l["a"],{variant:"outline-primary",className:"func-btn mainLike  sflex-center shadow-sm rounded-circle main-".concat(Y,"-Like ").concat(G?"mb-2":"mb-3"),active:he,onClick:Ge,"aria-label":"\u70b9\u8d5e"},i.a.createElement("i",{className:"far fa-thumbs-up"}),"question"===L||"answer"===L||"product-score"===L?i.a.createElement("span",{className:"mainLikeNum ".concat(0!==ie?"":"invisible")},ie):i.a.createElement("span",{className:"mainLikeNum ".concat(ie>0?"":"invisible")},ie)),G&&i.a.createElement(s["a"],{trigger:"click",placement:"right",show:Ve,overlay:et},i.a.createElement(l["a"],{variant:"outline-secondary",className:"shadow-sm func-btn sflex-center rounded-circle main-".concat(Y,"-Like main-hate mb-3"),active:se,onClick:Xe,onBlur:function(){return We(!1)},"aria-label":"\u70b9\u8e29"},i.a.createElement("i",{className:"far fa-thumbs-down fa-flip-horizontal"}))),Z&&i.a.createElement(l["a"],{variant:"outline-secondary",className:"func-btn sflex-center rounded-circle mb-2",onClick:Qe,active:Oe,"aria-label":"\u6536\u85cf"},i.a.createElement("i",{className:"far fa-bookmark"})),A&&i.a.createElement("a",{className:"func-btn sflex-center btn btn-outline-secondary rounded-circle mb-2",href:"#comment-area","aria-label":"\u8bc4\u8bba"},i.a.createElement("i",{className:"far fa-comment-alt-lines"})),ee&&i.a.createElement(u["a"],null,i.a.createElement(u["a"].Toggle,{as:d["a"],className:"func-btn nav-tab-item  rounded-pill btn btn-outline-secondary sflex-center rounded-circle",id:"actions-toggle"},i.a.createElement("i",{className:"far fa-share-alt"})),i.a.createElement(u["a"].Menu,{className:"dropdown-menu-down",show:D},i.a.createElement("div",{className:"text-center mt-2"},i.a.createElement("div",{className:"qr"},i.a.createElement("img",{crossOrigin:"anonymous",src:Fe,width:"118",height:"118"})),"\u626b\u4e00\u626b\u5206\u4eab"),i.a.createElement("div",{className:"dropdown-divider"}),i.a.createElement(u["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&Ke.current.click()}},i.a.createElement(m["a"],{title:Pe,url:Ce,image:I,ref:Ke,className:"btn w-100 ps-4 pe-4 pt-1 pb-1 text-start"},i.a.createElement("i",{className:"fab fa-weibo fa-fw"})," \u65b0\u6d6a\u5fae\u535a")),i.a.createElement(u["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&$e.current.click()}},i.a.createElement(f["a"],{title:De,url:Ce,ref:$e,className:"btn w-100 ps-4 pe-4 pt-1 pb-1 text-start"},i.a.createElement("i",{className:"fab fa-twitter fa-fw"})," Twitter")),i.a.createElement(u["a"].Item,{className:"p-0",onKeyDown:function(e){13===e.keyCode&&Je.current.click()}},i.a.createElement(v["a"],{title:De,url:Ce,ref:Je,className:"btn w-100 ps-4 pe-4 pt-1 pb-1 text-start"},i.a.createElement("i",{className:"fab fa-facebook fa-fw"})," Facebook")))))),i.a.createElement(b["a"],{id:t,isShow:Ne,setShowStatus:xe,setBookmarkedState:Ze,source:L,isBookmarked:x}),i.a.createElement("canvas",{hidden:!0,className:"qrcode"}))};t["a"]=Object(y["b"])()(i.a.memo(w))},kwfb:function(e,t,a){"use strict";var n=a("tJVT"),r=a("q1tI"),i=a.n(r),o=function(e){var t=e.name,a=Object(r["useState"])(""),o=Object(n["a"])(a,2),c=o[0],l=o[1];return Object(r["useEffect"])((function(){var e,a=null;null!==(e=window.OA_output)&&void 0!==e&&e[t]&&clearInterval(a),a=setInterval((function(){var e,n;null!==(e=window.OA_output)&&void 0!==e&&e[t]&&(null!==(n=window.OA_output)&&void 0!==n&&n[t]&&clearInterval(a),l(window.OA_output[t]))}))}),[]),Object(r["useEffect"])((function(){c&&c.indexOf("adsbygoogle")>-1&&(window.adsbygoogle=window.adsbygoogle||[]).push({})}),[c]),i.a.createElement("div",{id:"OA_holder_".concat(t),className:"ad-container",style:{display:5===Number(t)?"none":"block"},dangerouslySetInnerHTML:{__html:c}})};t["a"]=o},nWVH:function(e,t,a){},nlcd:function(e,t,a){"use strict";var n=a("EVdn");t["a"]=function(){var e,t='\n  <div class="is-active ImageView p-4" style="display: none;">\n      <div class="ImageView-inner" style="overflow: auto;">\n          <img src="" class="ImageView-img" alt="preview" style="max-width: 100%">\n      </div>\n  </div>',a=1,r=n("article img"),i=[],o=null===(e=n(".ImageView").find("img").attr("src"))||void 0===e?void 0:e[0];r.each((function(e,t){var r,c,l=n(t).attr("src")||n(t).attr("data-src");null===(r=l)||void 0===r||!r.startsWith("/img/")||null!==(c=l)&&void 0!==c&&c.match(/\/view$/)||(l+="/view"),null!==o&&void 0!==o&&o.includes(l)&&(a=e),l&&i.push(l)})),n("body ImageView")&&n(".ImageView").remove(),n("body").append(t).on("keydown",(function(e){var t;"none"!==(null===(t=n(".ImageView"))||void 0===t?void 0:t.css("display"))&&(37===e.keyCode&&a>0&&(a-=1,n(".ImageView").find("img").attr("src",i[a])),39===e.keyCode&&a<(null===i||void 0===i?void 0:i.length)-1&&(a+=1,n(".ImageView").find("img").attr("src",i[a])))})).on("click",".ImageView",(function(){n(this).fadeOut()})).on("click","article img",(function(){var e,t,a=n(this).attr("src");n(this).parents("a").length||(null===(e=a)||void 0===e||!e.startsWith("/img/")||null!==(t=a)&&void 0!==t&&t.match(/\/view$/)||(a+="/view"),n(".ImageView").find("img").attr("src",a)[0].onload=function(){n(".ImageView").fadeIn()})}))}},oGiJ:function(e,t,a){"use strict";a.r(t);var n=a("k1fw"),r=a("9og8"),i=a("tJVT"),o=a("WmNS"),c=a.n(o),l=a("q1tI"),s=a.n(l),u=a("7vrA"),d=a("3Z9Z"),m=a("JI6e"),f=a("TUci"),v=a("+VcZ"),p=a.n(v),b=a("i8i4"),h=a("9/5/"),g=a.n(h),E=a("hKI/"),y=a.n(E),O=function(e,t){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},O(e,t)};function w(e,t){function a(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}var j=function(){return j=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a],t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},j.apply(this,arguments)};function k(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}var N=function(e,t,a,n){switch(t){case"debounce":return g()(e,a,n);case"throttle":return y()(e,a,n);default:return e}},x=function(e){return"function"===typeof e},_=function(){return"undefined"===typeof window},S=function(e){return e instanceof Element||e instanceof HTMLDocument},C=function(e,t,a,n){return function(r){var i=r.width,o=r.height;t((function(t){return t.width===i&&t.height===o||t.width===i&&!n||t.height===o&&!a?t:(e&&x(e)&&e(i,o),{width:i,height:o})}))}};(function(e){function t(t){var a=e.call(this,t)||this;a.cancelHandler=function(){a.resizeHandler&&a.resizeHandler.cancel&&(a.resizeHandler.cancel(),a.resizeHandler=null)},a.attachObserver=function(){var e=a.props,t=e.targetRef,n=e.observerOptions;if(!_()){t&&t.current&&(a.targetRef.current=t.current);var r=a.getElement();r&&(a.observableElement&&a.observableElement===r||(a.observableElement=r,a.resizeObserver.observe(r,n)))}},a.getElement=function(){var e=a.props,t=e.querySelector,n=e.targetDomEl;if(_())return null;if(t)return document.querySelector(t);if(n&&S(n))return n;if(a.targetRef&&S(a.targetRef.current))return a.targetRef.current;var r=Object(b["findDOMNode"])(a);if(!r)return null;var i=a.getRenderType();switch(i){case"renderProp":return r;case"childFunction":return r;case"child":return r;case"childArray":return r;default:return r.parentElement}},a.createResizeHandler=function(e){var t=a.props,n=t.handleWidth,r=void 0===n||n,i=t.handleHeight,o=void 0===i||i,c=t.onResize;if(r||o){var l=C(c,a.setState.bind(a),r,o);e.forEach((function(e){var t=e&&e.contentRect||{},n=t.width,r=t.height,i=!a.skipOnMount&&!_();i&&l({width:n,height:r}),a.skipOnMount=!1}))}},a.getRenderType=function(){var e=a.props,t=e.render,n=e.children;return x(t)?"renderProp":x(n)?"childFunction":Object(l["isValidElement"])(n)?"child":Array.isArray(n)?"childArray":"parent"};var n=t.skipOnMount,r=t.refreshMode,i=t.refreshRate,o=void 0===i?1e3:i,c=t.refreshOptions;return a.state={width:void 0,height:void 0},a.skipOnMount=n,a.targetRef=Object(l["createRef"])(),a.observableElement=null,_()||(a.resizeHandler=N(a.createResizeHandler,r,o,c),a.resizeObserver=new window.ResizeObserver(a.resizeHandler)),a}w(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){_()||(this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e,t=this.props,a=t.render,n=t.children,r=t.nodeType,i=void 0===r?"div":r,o=this.state,c=o.width,s=o.height,u={width:c,height:s,targetRef:this.targetRef},d=this.getRenderType();switch(d){case"renderProp":return a&&a(u);case"childFunction":return e=n,e(u);case"child":if(e=n,e.type&&"string"===typeof e.type){u.targetRef;var m=k(u,["targetRef"]);return Object(l["cloneElement"])(e,m)}return Object(l["cloneElement"])(e,u);case"childArray":return e=n,e.map((function(e){return!!e&&Object(l["cloneElement"])(e,u)}));default:return l["createElement"](i,null)}}})(l["PureComponent"]);var I=_()?l["useEffect"]:l["useLayoutEffect"];function R(e){void 0===e&&(e={});var t=e.skipOnMount,a=void 0!==t&&t,n=e.refreshMode,r=e.refreshRate,i=void 0===r?1e3:r,o=e.refreshOptions,c=e.handleWidth,s=void 0===c||c,u=e.handleHeight,d=void 0===u||u,m=e.targetRef,f=e.observerOptions,v=e.onResize,p=Object(l["useRef"])(a),b=Object(l["useRef"])(null),h=null!==m&&void 0!==m?m:b,g=Object(l["useRef"])(),E=Object(l["useState"])({width:void 0,height:void 0}),y=E[0],O=E[1];return I((function(){if(!_()){var e=C(v,O,s,d),t=function(t){(s||d)&&t.forEach((function(t){var a=t&&t.contentRect||{},n=a.width,r=a.height,i=!p.current&&!_();i&&e({width:n,height:r}),p.current=!1}))};g.current=N(t,n,i,o);var a=new window.ResizeObserver(g.current);return h.current&&a.observe(h.current,f),function(){a.disconnect();var e=g.current;e&&e.cancel&&e.cancel()}}}),[n,i,o,s,d,v,f,h.current]),j({ref:h},y)}var T=a("kUPb"),D=a("5ui+"),L=a("cor7"),B=a("6xyR"),A=a("sjrs"),P=a("0lfv"),M=function(e){var t,a=e.data;return s.a.createElement("a",{className:"list-group-item list-group-item-action py-3",href:"".concat(null===a||void 0===a?void 0:a.url,"?utm_source=sf-similar-article"),target:"_blank"},s.a.createElement("h5",{className:"h5 mb-2 text-break",style:{color:"#212529"}},null===a||void 0===a?void 0:a.title),s.a.createElement("p",{className:"mb-2 text-truncate-1 text-secondary"},null===a||void 0===a?void 0:a.excerpt),s.a.createElement("p",{className:"d-flex align-items-center font-size-14 mb-0"},s.a.createElement("span",{className:"text-primary"},null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.name),(null===a||void 0===a?void 0:a.views)>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"split-dot"}),s.a.createElement("span",null,"\u9605\u8bfb ",Object(P["j"])(null===a||void 0===a?void 0:a.views))),(null===a||void 0===a?void 0:a.votes)>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"split-dot"}),s.a.createElement("span",null,Object(P["j"])(null===a||void 0===a?void 0:a.votes)," \u8d5e")),(null===a||void 0===a?void 0:a.comments)>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("span",{className:"split-dot"}),s.a.createElement("span",null,Object(P["j"])((null===a||void 0===a?void 0:a.comments)||0)," \u8bc4\u8bba"))))},z=s.a.memo(M),H=(a("wroQ"),function(e){var t=e.list,a=void 0===t?[]:t;return a.length?s.a.createElement(B["a"],{className:"mt-4"},s.a.createElement(B["a"].Header,{className:"bg-transparent"},s.a.createElement("strong",null,"\u7ee7\u7eed\u9605\u8bfb")),s.a.createElement(A["a"],{className:"recommend-list-wrap"},s.a.createElement("div",{className:"card border-0"},s.a.createElement("div",{className:"list-group list-group-flush"},a.map((function(e){return s.a.createElement(z,{key:null===e||void 0===e?void 0:e.id,data:e})})))))):null}),F=s.a.memo(H),q=a("6T2I"),U=a("Wgwc"),Y=a.n(U),V=function(e){var t,a,n,r,i,o,c,l=e.id,u=e.extra,d=e.status,m=e.sessionUser,v=void 0===m?{}:m;return s.a.createElement(s.a.Fragment,null,"rejected"===d&&s.a.createElement(f["a"],{className:"mb-3",variant:"warning"},s.a.createElement("div",{className:""},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:u.reason}}),s.a.createElement("div",null,s.a.createElement("span",null,"\u4f60\u53ef\u4ee5"),s.a.createElement("a",{href:"/a/".concat(l,"/edit")}," \u518d\u6b21\u7f16\u8f91 "),s.a.createElement("span",null,"\u4ee5\u91cd\u65b0\u53d1\u8868"))),s.a.createElement("div",{className:"mt-3"},"\u6ce8\u610f\uff1a\u5982\u679c\u8be5\u5185\u5bb9"),s.a.createElement("ul",null,s.a.createElement("li",null,"\u8fde\u7eed 3 \u6b21\u53d1\u8868\u672a\u901a\u8fc7"),s.a.createElement("li",null,"\u53d1\u8868\u672a\u6210\u529f\u4e00\u5468\u5185\u672a\u505a\u4efb\u4f55\u6539\u52a8")),s.a.createElement("div",{className:"mt-3"},"\u90fd\u5c06\u88ab\u7cfb\u7edf\u81ea\u52a8\u5220\u9664\uff0c\u5982\u6709\u5fc5\u8981\uff0c\u8bf7\u505a\u597d\u5907\u4efd\u3002")),"deleted"===d&&s.a.createElement(f["a"],{className:"mb-3",variant:"warning"},s.a.createElement("span",{dangerouslySetInnerHTML:{__html:u.reason}}),(null===u||void 0===u?void 0:u.operator)&&s.a.createElement("div",null,"\u64cd\u4f5c\u8005\uff1a",s.a.createElement("a",{href:null===u||void 0===u||null===(t=u.operator)||void 0===t?void 0:t.url},null===u||void 0===u||null===(a=u.operator)||void 0===a?void 0:a.name))),"hidden"===d&&(null===v||void 0===v||null===(n=v.roles)||void 0===n?void 0:n.is_editor)&&s.a.createElement(f["a"],{className:"mb-3",variant:"warning"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:u.reason}}),null!==u&&void 0!==u&&u.operator?s.a.createElement("div",null,"\u64cd\u4f5c\u8005\uff1a",s.a.createElement("a",{href:null===u||void 0===u||null===(r=u.operator)||void 0===r?void 0:r.url},null===u||void 0===u||null===(i=u.operator)||void 0===i?void 0:i.name)):""),"locked"===d&&s.a.createElement(f["a"],{className:"mb-3",variant:"warning"},s.a.createElement("div",{dangerouslySetInnerHTML:{__html:u.reason}}),s.a.createElement("div",null,"\u64cd\u4f5c\u8005\uff1a",s.a.createElement("a",{href:null===u||void 0===u||null===(o=u.operator)||void 0===o?void 0:o.url},null===u||void 0===u||null===(c=u.operator)||void 0===c?void 0:c.name),s.a.createElement("br",null),"\u64cd\u4f5c\u8005\u65f6\u95f4\uff1a",Y.a.unix(null===u||void 0===u?void 0:u.operator_time).format("YYYY-MM-DD HH:mm"))))},W=V,K=a("TB1r"),$=a("php9"),J=a("p46w"),G=a.n(J),Q=a("EVdn"),Z=(a("47/0"),function(e){var t=e.isFixed,a=e.setFixedState;Object(l["useEffect"])((function(){var e=G.a.get("articleNavFixed");"true"===e&&a(!0)}),[]);var n=function(e){var t=e.target.checked;a(t);var n=G.a.get("articleNavFixed");String(t)!==n&&G.a.set("articleNavFixed",t,{expires:7})},r=function(){var e=Q("#article-nav-list").offset().top,t=Q("#article-nav-list a.text-primary").offset().top,a=t-e;if(a>232){var n=232*Math.floor(a/232);Q("#collapseTarget").scrollTop(n)}else Q("#collapseTarget").scrollTop(0)};return s.a.createElement(B["a"],{className:"overflow-hidden d-none d-xl-flex","data-article-nav":!0},s.a.createElement(B["a"].Header,{className:"d-flex justify-content-between align-items-center  bg-white "},s.a.createElement("strong",{className:"nav-header p-0"},"\u6587\u7ae0\u76ee\u5f55"),s.a.createElement($["a"],{type:"switch",id:"follow-switch",className:"mb-0",checked:t,onChange:n,label:"\u8ddf\u968f"})),s.a.createElement(B["a"].Body,{className:"p-0 py-2",onMouseLeave:r,id:"collapseTarget"},s.a.createElement("nav",{id:"article-nav-list",className:"list-group list-group-flush d-flex flex-column font-size-14","data-article-nav-list":!0})))}),X=s.a.memo(Z),ee=a("iG+T"),te=a("fWQN"),ae=a("mtLc"),ne=function(){function e(t,a,n){Object(te["a"])(this,e),this.$parent=void 0,this.$article=void 0,this.$headList=void 0,this.callback=void 0,this.$parent=t,this.$article=a,this.callback=n,this.init()}return Object(ae["a"])(e,[{key:"buildNavTitle",value:function(){var e,t,a,n=this;for(a=1;a<=3;a++)if(this.$article.find("h"+a).length){t=3===a?this.$article.find("h"+a):this.$article.find("h".concat(a,", h").concat(a+1));break}var r=0,i=0;t&&t.length&&t.each((function(e,t){t.nodeName.substr(1,1)==a?(r++,Q(t).attr("id","item-".concat(r)),n.$parent.append('<a class="list-group-item list-group-item-action border-0 text-secondary text-truncate-1" href="#item-'.concat(r,'">').concat(Q(t).text().replace(/</gi,"&lt;").replace(/>/gi,"&gt;"),"</a>"))):(i++,Q(t).attr("id","item-".concat(r,"-").concat(i)),n.$parent.append('<a class="list-group-item list-group-item-action border-0 text-secondary text-truncate-1 nav2" href="#item-'.concat(r,"-").concat(i,'">').concat(Q(t).text().replace(/</gi,"&lt;").replace(/>/gi,"&gt;"),"</a>")))}));var o=[],c=[],l=[];null===(e=t)||void 0===e||e.each((function(e,t){switch(t.tagName){case"H1":o.push(t.tagName);break;case"H2":c.push(t.tagName);break;case"H3":l.push(t.tagName);break}}));var s=!1;return(o.length>=2||0===o.length&&c.length>=2||0===o.length&&0===c.length&&l.length>=2)&&(s=!0),!(!t||!s)&&!!t}},{key:"init",value:function(){if(this.$parent){var e=this.buildNavTitle();e?(this.$parent.parents("div[data-article-nav]").show(),this.callback instanceof Function&&this.callback(),Q(document).on("click","[data-article-nav] a",(function(){Q("div[data-article-nav] a").addClass("text-secondary").removeClass("text-primary"),Q(this).removeClass("text-secondary").addClass("text-primary")}))):this.$parent.parents("div[data-article-nav]").remove()}}}]),e}(),re=a("kwfb"),ie=a("paDM"),oe=a("YKRR"),ce=a("nlcd"),le=(a("SoKV"),a("Ty5D")),se=a("9kvl"),ue=(a("PmrS"),a("PFmq")),de=a("9F+u"),me=a("LvDl"),fe=a("2CDT"),ve=a("Dp36"),pe=!1,be=function(e){if(null!==e&&void 0!==e&&e.length)for(var t=0;t<e.length;t++){var a,n,r=(null===(a=document)||void 0===a||null===(n=a.getElementById(e[t].substr(1)))||void 0===n?void 0:n.getBoundingClientRect().top)||0;if(r>10&&r<80){if(t>6&&t%7===1){var i=e.length>16?8*Math.floor(t/7)*29:29*(e.length-8);pe=!0,Q("#collapseTarget").scrollTop(i)}else t<8&&t>=0&&pe&&(pe=!1,Q("#collapseTarget").scrollTop(0));Q("div[data-article-nav] a").addClass("text-secondary").removeClass("text-primary"),Q(Q("#article-nav-list a")[t]).removeClass("text-secondary").addClass("text-primary")}}},he=new P["a"],ge=function e(t){var a,n,r,o,c,v=t.artDetail,b=t.action,h=t.match,g=t.dispatch,E=t.sessionUser,y=t.articleRelated,O=t.isBaiduOxApp,w=void 0!==O&&O,j=Object(le["g"])(),k=Object(l["useRef"])(null);k.current=null===E||void 0===E||null===(a=E.user)||void 0===a?void 0:a.id;var N=h,x=N.params,_=x.aid,S=x.lang,C=void 0===S?null:S,I=v[_]||{},B=I.article,A=void 0===B?{}:B,M=I.actions,z=I.extra,H=I.member_actions,U=I.tag,Y=void 0===U?{}:U,V=I.blog,$=void 0===V?{}:V,J=I.description,G=I.keywords,Z=I.pay_info,te=b[_]||{},ae=te.votes,se=void 0===ae?0:ae,ue=te.isLiked,pe=te.isHated,ge=te.bookmarks,Ee=void 0===ge?0:ge,ye=te.bookmarkState,Oe=(null===E||void 0===E?void 0:E.roles)||{},we=Oe.is_editor,je=Number(null===A||void 0===A||null===(n=A.user)||void 0===n?void 0:n.id)===(null===E||void 0===E||null===(r=E.user)||void 0===r?void 0:r.id),ke=Object(l["useState"])(!1),Ne=Object(i["a"])(ke,2),xe=Ne[0],_e=Ne[1],Se=Object(l["useState"])(""),Ce=Object(i["a"])(Se,2),Ie=Ce[0],Re=Ce[1],Te=Object(l["useState"])(null),De=Object(i["a"])(Te,2),Le=De[0],Be=De[1],Ae=Object(l["useState"])(!1),Pe=Object(i["a"])(Ae,2),Me=Pe[0],ze=Pe[1],He=Object(l["useState"])(!1),Fe=Object(i["a"])(He,2),qe=Fe[0],Ue=Fe[1],Ye=R(),Ve=Ye.height,We=void 0===Ve?0:Ve,Ke=Ye.ref,$e=R(),Je=$e.height,Ge=void 0===Je?0:Je,Qe=$e.ref,Ze=R(),Xe=Ze.height,et=void 0===Xe?0:Xe,tt=Ze.ref;Object(l["useEffect"])((function(){Object(me["isEmpty"])(v[_])&&g({type:"articleDetail/getArtDetail",payload:{aid:_,lang:C},callback:function(e){"error"===e&&j.replace("/404")}}),g({type:"articleDetail/getRelated",payload:_})}),[_]),Object(l["useEffect"])((function(){if(null!==A&&void 0!==A&&A.tags){var e,t=null===A||void 0===A?void 0:A.tags.map((function(e){return e.name})),a=null===t||void 0===t?void 0:t.join(",");Object(fe["a"])(a,null===E||void 0===E||null===(e=E.user)||void 0===e?void 0:e.rank)}}),[null===A||void 0===A?void 0:A.tags]);var at=function(){g({type:"articleDetail/getArtDetail",payload:{aid:_,lang:C,isRefresh:!1},callback:function(){}})};Object(l["useEffect"])((function(){var e=Object(P["f"])(window.location.href,"openShare");return _e(Boolean("true"===e)),Object(ce["a"])(),Object(de["a"])("article"),window.addEventListener("scroll",nt),function(){window.removeEventListener("scroll",(function(){return be("")})),window.removeEventListener("scroll",nt)}}),[]),Object(l["useEffect"])((function(){if(!Object(me["isEmpty"])(A)){var e=new URL(window.location.href).searchParams.get("_ea")||"";e&&Object(ve["nc"])(e).then((function(e){Be(e)})),new ne(Q("nav[data-article-nav-list]"),Q("article.article-content"),(function(){for(var e=[],t=Q("#article-nav-list a"),a=0;a<t.length;a++){var n=Q(t[a]).attr("href");e.push(n)}e.length&&(Q(Q("#article-nav-list a")[0]).removeClass("text-secondary").addClass("text-primary"),window.addEventListener("scroll",(function(){return be(e)})))})),g({type:"global/saveTitle",payload:{title:A.title}}),g({type:"global/pushPageUser",payload:{pathName:window.location.pathname,users:[A.user]}}),g({type:"global/saveHeadOptions",payload:{keywords:G,description:J}});var t=document.querySelector(".article.fmt");if(he.render(t),Q(window).resize((function(){Q(document.body).width()<576&&Q("#first-ad").removeClass("data-fix")})),Q(document.body).width()<576)return void Q("article.article img").change((function(e){e.each((function(e,t){var a=t.getAttribute("src"),n=t.getAttribute("data-src"),r="";if(a=n||a,a){var i=a.indexOf("?");i>0&&(r=a.substring(i),a=a.substring(0,i)),a.match(/^\/img\//)&&!a.match(/\/view$/)&&(a=a+"/view"+r,t.setAttribute(n?"data-src":"src",a),t.setAttribute("data-src",a))}}))}),(function(e){e.each((function(e,t){var a=t.getAttribute("src"),n=t.getAttribute("data-src"),r="";if(a=n||a,a){var i=a.indexOf("?");i>0&&(r=a.substring(i),a=a.substring(0,i)),a.match(/^\/img\//)&&a.match(/\/view$/)&&(a=a.substring(0,a.length-5)+r,t.setAttribute(n?"data-src":"src",a))}}))}));var a=Q("article.article img");if((null===a||void 0===a?void 0:a.length)>0){var n,r=a[0].getAttribute("src"),i=a[0].getAttribute("data-src");r=i||r,!r||null!==(n=r)&&void 0!==n&&n.includes("http")||(r="".concat(window.location.origin).concat(r)),Re(r||"")}}rt()}),[A.id]);var nt=function(){var e,t,a,n,r,i=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,o=(null===(e=document.getElementById("author"))||void 0===e?void 0:e.clientHeight)||0,c=(null===(t=document.getElementById("first-ad"))||void 0===t?void 0:t.clientHeight)||0,l=(null===(a=document.getElementById("cataLog"))||void 0===a?void 0:a.clientHeight)||0,s=(null===(n=document.getElementById("gridAd"))||void 0===n?void 0:n.clientHeight)||0,u=(null===(r=document.getElementById("second-ad"))||void 0===r?void 0:r.clientHeight)||0;Ue(i>o+c+l+s+u+120)},rt=function(){var e,t=(null===(e=document.getElementById("second-ad"))||void 0===e?void 0:e.getBoundingClientRect().bottom)||0,a=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;a&&t<0&&window.scrollTo(0,a+1)};return v[_]?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"d-none d-xl-flex justify-content-center"},s.a.createElement(re["a"],{name:"2"})),s.a.createElement(u["a"],{className:"article-content"},s.a.createElement(q["a"],{className:"mx-4 mx-md-0",data:[{name:"\u4e13\u680f",url:"/blogs"},{name:null!==$&&void 0!==$&&$.id?$.name:null===Y||void 0===Y?void 0:Y.name,url:null!==$&&void 0!==$&&$.id?$.url:"".concat(null===Y||void 0===Y?void 0:Y.url,"/blogs")},{name:"\u6587\u7ae0\u8be6\u60c5",url:"###"}]}),s.a.createElement(d["a"],null,s.a.createElement(m["a"],{className:"col-xl w-0",xs:12},(null===A||void 0===A?void 0:A.status_key)&&(null===z||void 0===z?void 0:z.reason)&&s.a.createElement(W,{id:_,extra:z,sessionUser:E,status:null===A||void 0===A?void 0:A.status_key}),"deleted"===(null===A||void 0===A?void 0:A.status_key)&&!(null!==z&&void 0!==z&&z.reason)&&s.a.createElement(f["a"],{className:"mb-3",variant:"warning"},s.a.createElement("span",null,"\u8fd9\u7bc7\u6587\u7ae0\u5df2\u88ab\u5220\u9664")),s.a.createElement(T["a"],{id:null===A||void 0===A?void 0:A.id,votes:se,title:null===A||void 0===A?void 0:A.title,isLiked:ue,isBookmarked:ye,bookmarks:Ee,showShare:xe,banner:(null===A||void 0===A?void 0:A.cover)||Ie,isAuthor:je,source:"article"}),s.a.createElement(D["a"],{detail:v[_],articleHtml:e.articleHtml,actionData:{votes:se,isLiked:ue,isHated:pe,bookmarks:Ee,bookmarkState:ye},actions:M,initPage:at,imageUrl:A.cover,isEditor:we,isAuthor:je,memberActions:H,lang:C,payInfo:Z,isBaiduOxApp:w}),s.a.createElement("div",{className:"d-block d-xl-none my-sm-4"},(null===A||void 0===A||null===(o=A.user)||void 0===o?void 0:o.url)&&s.a.createElement(K["a"],{user:null===A||void 0===A?void 0:A.user})),s.a.createElement(L["a"],{id:_,event_object:Le,user:A.user,isFetchComments:A.comments>0,memberActions:H}),Object(me["isEmpty"])(E)&&s.a.createElement(ee["a"],null),s.a.createElement(F,{list:y})),s.a.createElement(m["a"],{xs:12,className:"col-xl-auto w-xl-300 d-none d-xl-block p-0 right-side"},s.a.createElement(p.a,{top:82,innerZ:5,bottomBoundary:".article-content",enabled:qe},s.a.createElement("div",{className:"right-block",id:"author",ref:Ke},(null===A||void 0===A||null===(c=A.user)||void 0===c?void 0:c.url)&&s.a.createElement(K["a"],{user:null===A||void 0===A?void 0:A.user}))),s.a.createElement(p.a,{enabled:qe&&!Me,top:We+82+20,innerZ:4,bottomBoundary:".article-content"},s.a.createElement("div",{className:"right-block",id:"first-ad",ref:Qe},s.a.createElement("div",{className:"card border-0 overflow-hidden d-none d-xl-flex justify-content-center align-items-center float-ads"},s.a.createElement(re["a"],{name:"1"})))),s.a.createElement(p.a,{top:We+82+20,innerZ:3,enabled:qe&&Me,bottomBoundary:".article-content"},s.a.createElement("div",{id:"cataLog",className:"right-block",ref:tt},s.a.createElement(X,{isFixed:Me,setFixedState:function(e){ze(e),rt()}}))),s.a.createElement("div",{id:"gridAd",className:"right-block"},s.a.createElement(ie["a"],null)),s.a.createElement(p.a,{enabled:qe&&!Me,top:We+(Me?et:Ge)+82+20+20,bottomBoundary:".article-content",innerZ:2},s.a.createElement("div",{id:"second-ad"},s.a.createElement(re["a"],{name:"31"}))))),s.a.createElement(oe["a"],null))):null};ge.articleHtml="",ge.getInitialProps=Object(ue["a"])({requireState:["articleDetail.artDetail"]},function(){var e=Object(r["a"])(c.a.mark((function e(t){var a,r,i,o,l,s,u,d,m,f,v,p,b,h,g,E;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.store,r=t.match,i=t.isServer,o=t.serverData,l=void 0===o?{}:o,i){e.next=3;break}return e.abrupt("return");case 3:return s=r,u=s.params,d=u.aid,m=u.lang,f=void 0===m?"":m,v=new ve["V"](l),e.next=7,Promise.allSettled([a.dispatch({type:"articleDetail/getArtDetail",payload:{aid:d,lang:f,isServerLoaded:!0},api:v})]);case 7:if(p=a.getState().articleDetail.artDetail,Object(me["isEmpty"])(p[d])){e.next=18;break}if(b=p[d],h=b.article,g=b.keywords,E=b.description,h){e.next=14;break}throw new Error("error_article_data:".concat(d,"\n").concat(JSON.stringify(a.getState())));case 14:ge.articleHtml=null===h||void 0===h?void 0:h.parsed_text,a.dispatch({type:"global/saveTitle",payload:{title:null===h||void 0===h?void 0:h.title}}),a.dispatch({type:"articleDetail/saveArticleHtml",payload:{id:d,parsed_text:""}});case 17:a.dispatch({type:"global/saveHeadOptions",payload:{keywords:g,description:E}});case 18:return e.abrupt("return",Object(n["a"])({},a.getState()));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());t["default"]=Object(se["b"])((function(e){var t=e.articleDetail,a=e.action,r=e.global;return Object(n["a"])(Object(n["a"])({},t),{},{action:a,sessionUser:r.sessionUser,isBaiduOxApp:r.isBaiduOxApp})}))(ge)},pHGr:function(e,t,a){!function(t,n){e.exports=n(a("Wgwc"))}(0,(function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={name:"zh-cn",weekdays:"\u661f\u671f\u65e5_\u661f\u671f\u4e00_\u661f\u671f\u4e8c_\u661f\u671f\u4e09_\u661f\u671f\u56db_\u661f\u671f\u4e94_\u661f\u671f\u516d".split("_"),weekdaysShort:"\u5468\u65e5_\u5468\u4e00_\u5468\u4e8c_\u5468\u4e09_\u5468\u56db_\u5468\u4e94_\u5468\u516d".split("_"),weekdaysMin:"\u65e5_\u4e00_\u4e8c_\u4e09_\u56db_\u4e94_\u516d".split("_"),months:"\u4e00\u6708_\u4e8c\u6708_\u4e09\u6708_\u56db\u6708_\u4e94\u6708_\u516d\u6708_\u4e03\u6708_\u516b\u6708_\u4e5d\u6708_\u5341\u6708_\u5341\u4e00\u6708_\u5341\u4e8c\u6708".split("_"),monthsShort:"1\u6708_2\u6708_3\u6708_4\u6708_5\u6708_6\u6708_7\u6708_8\u6708_9\u6708_10\u6708_11\u6708_12\u6708".split("_"),ordinal:function(e,t){switch(t){case"W":return e+"\u5468";default:return e+"\u65e5"}},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY\u5e74M\u6708D\u65e5",LLL:"YYYY\u5e74M\u6708D\u65e5Ah\u70b9mm\u5206",LLLL:"YYYY\u5e74M\u6708D\u65e5ddddAh\u70b9mm\u5206",l:"YYYY/M/D",ll:"YYYY\u5e74M\u6708D\u65e5",lll:"YYYY\u5e74M\u6708D\u65e5 HH:mm",llll:"YYYY\u5e74M\u6708D\u65e5dddd HH:mm"},relativeTime:{future:"%s\u5185",past:"%s\u524d",s:"\u51e0\u79d2",m:"1 \u5206\u949f",mm:"%d \u5206\u949f",h:"1 \u5c0f\u65f6",hh:"%d \u5c0f\u65f6",d:"1 \u5929",dd:"%d \u5929",M:"1 \u4e2a\u6708",MM:"%d \u4e2a\u6708",y:"1 \u5e74",yy:"%d \u5e74"},meridiem:function(e,t){var a=100*e+t;return a<600?"\u51cc\u6668":a<900?"\u65e9\u4e0a":a<1100?"\u4e0a\u5348":a<1300?"\u4e2d\u5348":a<1800?"\u4e0b\u5348":"\u665a\u4e0a"}};return e.locale(t,null,!0),t}))},pJDg:function(e,t,a){"use strict";var n=a("TSYQ"),r=a.n(n),i=a("q1tI"),o=a("vUet"),c=a("nKUr");const l={vertical:!1,role:"group"},s=i["forwardRef"]((({bsPrefix:e,size:t,vertical:a,className:n,as:i="div",...l},s)=>{const u=Object(o["a"])(e,"btn-group");let d=u;return a&&(d=`${u}-vertical`),Object(c["jsx"])(i,{...l,ref:s,className:r()(n,d,t&&`${u}-${t}`)})}));s.displayName="ButtonGroup",s.defaultProps=l,t["a"]=s},paDM:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),i=a("6xyR"),o=(a("nWVH"),a("kwfb")),c=function(){return r.a.createElement(i["a"],null,r.a.createElement(i["a"].Header,{className:"bg-white border-0"},r.a.createElement("strong",null,"\u5ba3\u4f20\u680f")),r.a.createElement(i["a"].Body,null,r.a.createElement("div",{className:"mb-3"},r.a.createElement(o["a"],{name:"7"})),r.a.createElement("div",{className:"mb-3"},r.a.createElement(o["a"],{name:"9"})),r.a.createElement("div",null,r.a.createElement(o["a"],{name:"10"}))))};t["a"]=r.a.memo(c)},qIv2:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("q1tI");n["Component"];function r(e,t){let a=e;return"left"===e?a=t?"end":"start":"right"===e&&(a=t?"start":"end"),a}},"wFk/":function(e,t,a){"use strict";var n=a("k1fw"),r=a("oBTY"),i=a("9og8"),o=a("tJVT"),c=a("WmNS"),l=a.n(c),s=a("q1tI"),u=a.n(s),d=a("7U2o"),m=a("HRRZ"),f=a("QojX"),v=a("yUhH"),p=a("Dp36"),b=a("9kvl"),h=function(e){var t=e.id,a=e.setBookmarkedState,c=e.isShow,b=e.setShowStatus,h=e.sessionUser,g=e.source,E=void 0===g?"":g,y=e.isBookmarked,O=void 0!==y&&y,w=Object(s["useState"])(!1),j=Object(o["a"])(w,2),k=j[0],N=j[1],x=Object(s["useState"])([]),_=Object(o["a"])(x,2),S=_[0],C=_[1],I=Object(s["useState"])([]),R=Object(o["a"])(I,2),T=R[0],D=R[1],L=Object(s["useState"])({value:"",isInvalid:!1,errorMsg:""}),B=Object(o["a"])(L,2),A=B[0],P=B[1],M=Object(s["useState"])(""),z=Object(o["a"])(M,2),H=z[0],F=z[1],q=Object(s["useState"])(1),U=Object(o["a"])(q,2),Y=U[0],V=U[1];Object(s["useEffect"])((function(){h&&c&&W()}),[c]);var W=function(){var e=Object(i["a"])(l.a.mark((function e(){var a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["x"])({objectId:t});case 2:a=e.sent,a&&a.rows&&(C(a.rows),D(a.rows.filter((function(e){return e.is_bookmarked})).map((function(e){return e.id}))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){b(!1),N(!1),P({value:"",isInvalid:!1,errorMsg:""}),F(""),V(1)},$=function(e){e.is_bookmarked?D(T.filter((function(t){return t!==e.id}))):D([].concat(Object(r["a"])(T),[e.id])),C(S.map((function(t){return e.id===t.id&&(t.is_bookmarked=e.is_bookmarked?0:1),t})))},J=function(){var e=Object(i["a"])(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!k){e.next=10;break}if(A.value){e.next=4;break}return P(Object(n["a"])(Object(n["a"])({},A),{},{isInvalid:!0,errorMsg:"\u540d\u79f0\u5fc5\u586b"})),e.abrupt("return");case 4:return e.next=6,Object(p["g"])({name:A.value,description:H,is_private:Y})["catch"]((function(e){null!==e&&void 0!==e&&e.isError&&P(Object(n["a"])(Object(n["a"])({},A),{},{isInvalid:!0,errorMsg:e.name}))}));case 6:W(),N(!k),e.next=13;break;case 10:Object(p["u"])({type:E,id:t,is_bookmark:0===T.length?0:1,archive_ids:T}),O!==Boolean(T.length)&&a(!(0===T.length)),b(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return u.a.createElement(d["a"],{show:c,title:k?"\u521b\u5efa\u6536\u85cf\u5939":"\u6536\u85cf",onCancel:K,onOk:J},k?u.a.createElement(v["a"],{className:"bookmarklist-form",id:"bookmarkArchives",onSubmit:J},u.a.createElement(m["a"],{controlId:"bookmark.archiveName",className:"mb-3"},u.a.createElement(f["a"].Label,{className:"required"},"\u540d\u79f0")," ",u.a.createElement(f["a"].Control,{type:"text",className:"form-control",value:A.value,onChange:function(e){return P(Object(n["a"])(Object(n["a"])({},A),{},{value:e.target.value}))},placeholder:"\u6700\u591a\u8f93\u516532\u4e2a\u5b57",maxLength:32,autoComplete:"off",required:!0,isInvalid:A.isInvalid}),u.a.createElement(f["a"].Control.Feedback,{type:"invalid"},A.errorMsg)),u.a.createElement(m["a"],{controlId:"bookmark.description",className:"mb-3"},u.a.createElement(f["a"].Label,null,"\u63cf\u8ff0")," ",u.a.createElement(f["a"].Control,{as:"textarea",value:H,onChange:function(e){return F(e.target.value)},placeholder:"\u6700\u591a\u8f93\u5165256\u4e2a\u5b57",maxLength:256})),u.a.createElement("div",{className:"form-check"},u.a.createElement("input",{className:"form-check-input",type:"radio",name:"isPrivate",value:"1",onChange:function(){return V(1)},checked:1===Y,id:"bookmark-private"}),u.a.createElement("label",{className:"form-check-label",htmlFor:"bookmark-private"},"\u79c1\u5bc6\uff1a"),u.a.createElement("span",{className:"text-secondary"},"\u4ec5\u81ea\u5df1\u53ef\u89c1")),u.a.createElement("div",{className:"form-check"},u.a.createElement("input",{className:"form-check-input",type:"radio",name:"isPrivate",onChange:function(){return V(0)},checked:0===Y,id:"bookmark-public"}),u.a.createElement("label",{className:"form-check-label",htmlFor:"bookmark-public"},"\u516c\u5f00\uff1a"),u.a.createElement("span",{className:"text-secondary"},"\u516c\u5f00\u540e\u4e0d\u53ef\u518d\u8bbe\u7f6e\u4e3a\u79c1\u5bc6"))):u.a.createElement(v["a"],{onSubmit:J},u.a.createElement("div",{className:"form-group"},u.a.createElement("label",{className:"form-title"},"\u6dfb\u52a0\u5230\u6536\u85cf\u5939\uff1a"),null===S||void 0===S?void 0:S.map((function(e){return u.a.createElement("div",{className:"form-check mb-2",key:e.id},u.a.createElement("input",{className:"form-check-input",type:"checkbox",name:"bookmarkItem[]",id:e.id,value:e.id,onChange:function(){return $(e)},checked:Boolean(e.is_bookmarked)}),u.a.createElement("label",{className:"form-check-label",htmlFor:e.id},e.name,Boolean(e.is_private)&&u.a.createElement("span",{className:"text-secondary"},"\uff08\u79c1\u5bc6\uff09")))})),u.a.createElement("button",{className:"btn btn-link new-bookmark p-0",onClick:function(){return N(!0)}},"+ \u521b\u5efa\u6536\u85cf\u5939"))))};t["a"]=Object(b["b"])((function(e){var t=e.global;return{sessionUser:t.sessionUser}}))(u.a.memo(h))},wroQ:function(e,t,a){},xQMv:function(e,t,a){e.exports=a.p+"static/bg-219.7a1acf4f.svg"},zhAr:function(e,t,a){"use strict";var n=a("TSYQ"),r=a.n(n),i=a("q1tI"),o=a("vUet"),c=a("8lGn"),l=a("nKUr");const s={active:!1,disabled:!1,activeLabel:"(current)"},u=i["forwardRef"]((({active:e,disabled:t,className:a,style:n,activeLabel:i,children:o,...s},u)=>{const d=e||t?"span":c["a"];return Object(l["jsx"])("li",{ref:u,style:n,className:r()(a,"page-item",{active:e,disabled:t}),children:Object(l["jsxs"])(d,{className:"page-link",disabled:t,...s,children:[o,e&&i&&Object(l["jsx"])("span",{className:"visually-hidden",children:i})]})})}));u.defaultProps=s,u.displayName="PageItem";var d=u;function m(e,t,a=e){function n({children:e,...n}){return Object(l["jsxs"])(u,{...n,children:[Object(l["jsx"])("span",{"aria-hidden":"true",children:e||t}),Object(l["jsx"])("span",{className:"visually-hidden",children:a})]})}return n.displayName=e,n}const f=m("First","\xab"),v=m("Prev","\u2039","Previous"),p=m("Ellipsis","\u2026","More"),b=m("Next","\u203a"),h=m("Last","\xbb"),g=i["forwardRef"]((({bsPrefix:e,className:t,size:a,...n},i)=>{const c=Object(o["a"])(e,"pagination");return Object(l["jsx"])("ul",{ref:i,...n,className:r()(t,c,a&&`${c}-${a}`)})}));g.displayName="Pagination";t["a"]=Object.assign(g,{First:f,Prev:v,Ellipsis:p,Item:d,Next:b,Last:h})}}]);